function mapIsReady(){NTSB.IsReady=!0;var e=new CustomEvent("ntsbgooglemapready",{detail:{mapID:NTSB.GoogleMapID,mapAPIKey:NTSB.GoogleMapsAPIKey}}),t=document.getElementById("ntsbgooglemap");NTSB.ResolveFunc&&NTSB.ResolveFunc(),t&&t.dispatchEvent(e)}function handlePrinting(){try{handleEmptyIIC(),removeSpaceBeforeFACEmail()}catch(e){console.log("Error while handling printing: ",e)}}function handleEmptyIIC(){var e,t=document.querySelector(".iic");!t||!(e=t.querySelectorAll("p"))||e.length<2||!(e=e[1])||(e=e.innerText.trim())&&""!==e&&"&nbsp;"!==e&&" "!==e||t.classList.add("empty")}function removeSpaceBeforeFACEmail(){var e,t=document.querySelector(".family-assistance-contact-email-wrapper");t&&(e=t.innerHTML.replace(/\&nbsp\;/,""),t.innerHTML=e)}function NTSBSearchFix(){const e=document.querySelector("input[type=search]");if(e){const t=document.querySelector("input[id$=tbSearchBox]");t&&(t.onchange=()=>{e.value=t.value})}}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,function(){"use strict";function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t,n){return(i=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){}}}()?Reflect.construct:function(e,t,n){var i=[null],t=(i.push.apply(i,t),new(Function.bind.apply(e,i)));return n&&a(t,n.prototype),t}).apply(null,arguments)}function qe(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(e){var t;if(e)return"string"==typeof e?n(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h(o,t)}var o,r=Object.hasOwnProperty,s=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,Ge=Object.freeze,e=Object.seal,m=Object.create,t="undefined"!=typeof Reflect&&Reflect,u=(u=t.apply)||function(e,t,n){return e.apply(t,n)},Ge=Ge||function(e){return e},e=e||function(e){return e},h=(h=t.construct)||function(e,t){return i(e,qe(t))},lt=p(Array.prototype.forEach),je=p(Array.prototype.pop),Ve=p(Array.prototype.push),We=p(String.prototype.toLowerCase),Qe=p(String.prototype.toString),ct=p(String.prototype.match),Ye=p(String.prototype.replace),dt=p(String.prototype.indexOf),ut=p(String.prototype.trim),Ke=p(RegExp.prototype.test);o=TypeError;function p(a){return function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return u(a,e,n)}}function $e(e,t,n){n=n||We,s&&s(e,null);for(var i=t.length;i--;){var a,o=t[i];"string"==typeof o&&(a=n(o))!==o&&(l(t)||(t[i]=a),o=a),e[o]=!0}return e}function Xe(e){var t,n=m(null);for(t in e)u(r,e,[t])&&(n[t]=e[t]);return n}function Je(e,t){for(;null!==e;){var n=d(e,t);if(n){if(n.get)return p(n.get);if("function"==typeof n.value)return p(n.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var Ze=Ge(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),et=Ge(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tt=Ge(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ht=Ge(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nt=Ge(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),pt=Ge(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),it=Ge(["#text"]),at=Ge(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ot=Ge(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rt=Ge(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),st=Ge(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mt=e(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gt=e(/<%[\w\W]*|[\w\W]*%>/gm),ft=e(/\${[\w\W]*}/gm),vt=e(/^data-[\-\w.\u00B7-\uFFFF]/),yt=e(/^aria-[\-\w]+$/),St=e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Tt=e(/^(?:\w+script|data):/i),_t=e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bt=e(/^html$/i);return function I(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,c=function(e){return I(e)};if(c.version="2.4.1",c.removed=[],s&&s.document&&9===s.document.nodeType){var l=s.document,a=s.document,D=s.DocumentFragment,e=s.HTMLTemplateElement,d=s.Node,O=s.Element,t=s.NodeFilter,n=s.NamedNodeMap,F=void 0===n?s.NamedNodeMap||s.MozNamedAttrMap:n,H=s.HTMLFormElement,z=s.DOMParser,u=s.trustedTypes,n=O.prototype,q=Je(n,"cloneNode"),U=Je(n,"nextSibling"),G=Je(n,"childNodes"),h=Je(n,"parentNode"),p=("function"==typeof e&&(n=a.createElement("template")).content&&n.content.ownerDocument&&(a=n.content.ownerDocument),function(e,t){if("object"!==ze(e)||"function"!=typeof e.createPolicy)return null;var n=null,i="data-tt-policy-suffix",t="dompurify"+((n=t.currentScript&&t.currentScript.hasAttribute(i)?t.currentScript.getAttribute(i):n)?"#"+n:"");try{return e.createPolicy(t,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(u,l)),j=p?p.createHTML(""):"",e=a,V=e.implementation,W=e.createNodeIterator,Q=e.createDocumentFragment,Y=e.getElementsByTagName,K=l.importNode,n={};try{n=Xe(a).documentMode?a.documentMode:{}}catch(e){}var i={};c.isSupported="function"==typeof h&&V&&void 0!==V.createHTMLDocument&&9!==n;var m,g,$,X=mt,J=gt,Z=ft,ee=vt,te=yt,ne=Tt,ie=_t,ae=St,f=null,oe=$e({},[].concat(qe(Ze),qe(et),qe(tt),qe(nt),qe(it))),v=null,re=$e({},[].concat(qe(at),qe(ot),qe(rt),qe(st))),y=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),S=null,se=null,le=!0,ce=!0,de=!1,T=!1,_=!1,ue=!1,he=!1,b=!1,N=!1,B=!1,pe=!0,me=!1,ge="user-content-",fe=!0,w=!1,o={},E=null,ve=$e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ye=null,Se=$e({},["audio","video","img","source","image","track"]),Te=null,_e=$e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),M="http://www.w3.org/1998/Math/MathML",A="http://www.w3.org/2000/svg",C="http://www.w3.org/1999/xhtml",R=C,be=null,Ne=$e({},[M,A,C],Qe),Be=["application/xhtml+xml","text/html"],r=null,we=a.createElement("form"),Ee=function(e){return e instanceof RegExp||e instanceof Function},Me=function(e){r&&r===e||(e=Xe(e=e&&"object"===ze(e)?e:{}),m=-1===Be.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,g="application/xhtml+xml"===m?Qe:We,f="ALLOWED_TAGS"in e?$e({},e.ALLOWED_TAGS,g):oe,v="ALLOWED_ATTR"in e?$e({},e.ALLOWED_ATTR,g):re,be="ALLOWED_NAMESPACES"in e?$e({},e.ALLOWED_NAMESPACES,Qe):Ne,Te="ADD_URI_SAFE_ATTR"in e?$e(Xe(_e),e.ADD_URI_SAFE_ATTR,g):_e,ye="ADD_DATA_URI_TAGS"in e?$e(Xe(Se),e.ADD_DATA_URI_TAGS,g):Se,E="FORBID_CONTENTS"in e?$e({},e.FORBID_CONTENTS,g):ve,S="FORBID_TAGS"in e?$e({},e.FORBID_TAGS,g):{},se="FORBID_ATTR"in e?$e({},e.FORBID_ATTR,g):{},o="USE_PROFILES"in e&&e.USE_PROFILES,le=!1!==e.ALLOW_ARIA_ATTR,ce=!1!==e.ALLOW_DATA_ATTR,de=e.ALLOW_UNKNOWN_PROTOCOLS||!1,T=e.SAFE_FOR_TEMPLATES||!1,_=e.WHOLE_DOCUMENT||!1,b=e.RETURN_DOM||!1,N=e.RETURN_DOM_FRAGMENT||!1,B=e.RETURN_TRUSTED_TYPE||!1,he=e.FORCE_BODY||!1,pe=!1!==e.SANITIZE_DOM,me=e.SANITIZE_NAMED_PROPS||!1,fe=!1!==e.KEEP_CONTENT,w=e.IN_PLACE||!1,ae=e.ALLOWED_URI_REGEXP||ae,R=e.NAMESPACE||C,e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(y.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ee(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(y.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(y.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),T&&(ce=!1),N&&(b=!0),o&&(f=$e({},qe(it)),v=[],!0===o.html&&($e(f,Ze),$e(v,at)),!0===o.svg&&($e(f,et),$e(v,ot),$e(v,st)),!0===o.svgFilters&&($e(f,tt),$e(v,ot),$e(v,st)),!0===o.mathMl)&&($e(f,nt),$e(v,rt),$e(v,st)),e.ADD_TAGS&&$e(f=f===oe?Xe(f):f,e.ADD_TAGS,g),e.ADD_ATTR&&$e(v=v===re?Xe(v):v,e.ADD_ATTR,g),e.ADD_URI_SAFE_ATTR&&$e(Te,e.ADD_URI_SAFE_ATTR,g),e.FORBID_CONTENTS&&$e(E=E===ve?Xe(E):E,e.FORBID_CONTENTS,g),fe&&(f["#text"]=!0),_&&$e(f,["html","head","body"]),f.table&&($e(f,["tbody"]),delete S.tbody),Ge&&Ge(e),r=e)},Ae=$e({},["mi","mo","mn","ms","mtext"]),Ce=$e({},["foreignobject","desc","title","annotation-xml"]),Re=$e({},["title","style","font","a","script"]),L=$e({},et),Le=($e(L,tt),$e(L,ht),$e({},nt)),P=($e(Le,pt),function(t){Ve(c.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=j}catch(e){t.remove()}}}),Pe=function(e,t){try{Ve(c.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Ve(c.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!v[e])if(b||N)try{P(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},xe=function(e){he?e="<remove></remove>"+e:n=(n=ct(e,/^[\r\n\t ]+/))&&n[0],"application/xhtml+xml"===m&&R===C&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var t,n,i=p?p.createHTML(e):e;if(R===C)try{t=(new z).parseFromString(i,m)}catch(e){}if(!t||!t.documentElement){t=V.createDocument(R,"template",null);try{t.documentElement.innerHTML=$?"":i}catch(e){}}i=t.body||t.documentElement;return e&&n&&i.insertBefore(a.createTextNode(n),i.childNodes[0]||null),R===C?Y.call(t,_?"html":"body")[0]:_?t.documentElement:i},ke=function(e){return W.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,null,!1)},x=function(e){return"object"===ze(d)?e instanceof d:e&&"object"===ze(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},k=function(e,t,n){i[e]&&lt(i[e],function(e){e.call(c,t,n,r)})},Ie=function(e){if(k("beforeSanitizeElements",e,null),(!((o=e)instanceof H)||"string"==typeof o.nodeName&&"string"==typeof o.textContent&&"function"==typeof o.removeChild&&o.attributes instanceof F&&"function"==typeof o.removeAttribute&&"function"==typeof o.setAttribute&&"string"==typeof o.namespaceURI&&"function"==typeof o.insertBefore&&"function"==typeof o.hasChildNodes)&&!Ke(/[\u0080-\uFFFF]/,e.nodeName)){var t,n,i,a,o=g(e.nodeName);if(k("uponSanitizeElement",e,{tagName:o,allowedTags:f}),(!e.hasChildNodes()||x(e.firstElementChild)||x(e.content)&&x(e.content.firstElementChild)||!Ke(/<[/\w]/g,e.innerHTML)||!Ke(/<[/\w]/g,e.textContent))&&("select"!==o||!Ke(/<template/i,e.innerHTML))){if(f[o]&&!S[o])return(!(e instanceof O)||((n=h(t=e))&&n.tagName||(n={namespaceURI:R,tagName:"template"}),i=We(t.tagName),a=We(n.tagName),be[t.namespaceURI]&&(t.namespaceURI===A?n.namespaceURI===C?"svg"===i:n.namespaceURI===M?"svg"===i&&("annotation-xml"===a||Ae[a]):Boolean(L[i]):t.namespaceURI===M?n.namespaceURI===C?"math"===i:n.namespaceURI===A?"math"===i&&Ce[a]:Boolean(Le[i]):t.namespaceURI===C?!(n.namespaceURI===A&&!Ce[a]||n.namespaceURI===M&&!Ae[a]||Le[i]||!Re[i]&&L[i]):"application/xhtml+xml"===m&&be[t.namespaceURI])))&&("noscript"!==o&&"noembed"!==o||!Ke(/<\/no(script|embed)/i,e.innerHTML))?(T&&3===e.nodeType&&(n=e.textContent,n=Ye(n,X," "),n=Ye(n,J," "),n=Ye(n,Z," "),e.textContent!==n)&&(Ve(c.removed,{element:e.cloneNode()}),e.textContent=n),k("afterSanitizeElements",e,null),!1):(P(e),!0);if(!S[o]&&Oe(o)){if(y.tagNameCheck instanceof RegExp&&Ke(y.tagNameCheck,o))return!1;if(y.tagNameCheck instanceof Function&&y.tagNameCheck(o))return!1}if(fe&&!E[o]){var r=h(e)||e.parentNode,s=G(e)||e.childNodes;if(s&&r)for(var l=s.length-1;0<=l;--l)r.insertBefore(q(s[l],!0),U(e))}}}return P(e),!0},De=function(e,t,n){if(pe&&("id"===t||"name"===t)&&(n in a||n in we))return!1;if((!ce||se[t]||!Ke(ee,t))&&(!le||!Ke(te,t)))if(!v[t]||se[t]){if(!(Oe(e)&&(y.tagNameCheck instanceof RegExp&&Ke(y.tagNameCheck,e)||y.tagNameCheck instanceof Function&&y.tagNameCheck(e))&&(y.attributeNameCheck instanceof RegExp&&Ke(y.attributeNameCheck,t)||y.attributeNameCheck instanceof Function&&y.attributeNameCheck(t))||"is"===t&&y.allowCustomizedBuiltInElements&&(y.tagNameCheck instanceof RegExp&&Ke(y.tagNameCheck,n)||y.tagNameCheck instanceof Function&&y.tagNameCheck(n))))return!1}else if(!Te[t]&&!Ke(ae,Ye(n,ie,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==dt(n,"data:")||!ye[e])&&(!de||Ke(ne,Ye(n,ie,"")))&&n)return!1;return!0},Oe=function(e){return 0<e.indexOf("-")},Fe=function(e){k("beforeSanitizeAttributes",e,null);var t=e.attributes;if(t){for(var n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:v},i=t.length;i--;){s=t[i];var a=s.name,o=s.namespaceURI,r="value"===a?s.value:ut(s.value),s=g(a);if(n.attrName=s,n.attrValue=r,n.keepAttr=!0,n.forceKeepAttr=void 0,k("uponSanitizeAttribute",e,n),r=n.attrValue,!n.forceKeepAttr&&(Pe(a,e),n.keepAttr))if(Ke(/\/>/i,r))Pe(a,e);else{T&&(r=Ye(r,X," "),r=Ye(r,J," "),r=Ye(r,Z," "));var l=g(e.nodeName);if(De(l,s,r)){if(!me||"id"!==s&&"name"!==s||(Pe(a,e),r=ge+r),p&&"object"===ze(u)&&"function"==typeof u.getAttributeType&&!o)switch(u.getAttributeType(l,s)){case"TrustedHTML":r=p.createHTML(r);break;case"TrustedScriptURL":r=p.createScriptURL(r)}try{o?e.setAttributeNS(o,a,r):e.setAttribute(a,r),je(c.removed)}catch(e){}}}}k("afterSanitizeAttributes",e,null)}},He=function e(t){var n,i=ke(t);for(k("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)k("uponSanitizeShadowNode",n,null),Ie(n)||(n.content instanceof D&&e(n.content),Fe(n));k("afterSanitizeShadowDOM",t,null)};c.sanitize=function(e){var t,n,i,a,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof(e=($=!e)?"\x3c!--\x3e":e)&&!x(e)){if("function"!=typeof e.toString)throw Ue("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ue("dirty is not a string, aborting")}if(!c.isSupported){if("object"===ze(s.toStaticHTML)||"function"==typeof s.toStaticHTML){if("string"==typeof e)return s.toStaticHTML(e);if(x(e))return s.toStaticHTML(e.outerHTML)}return e}if(ue||Me(o),c.removed=[],w="string"==typeof e?!1:w){if(e.nodeName){var o=g(e.nodeName);if(!f[o]||S[o])throw Ue("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)1===(o=(t=xe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?t=o:t.appendChild(o);else{if(!b&&!T&&!_&&-1===e.indexOf("<"))return p&&B?p.createHTML(e):e;if(!(t=xe(e)))return b?null:B?j:""}t&&he&&P(t.firstChild);for(var r=ke(w?e:t);n=r.nextNode();)3===n.nodeType&&n===i||Ie(n)||(n.content instanceof D&&He(n.content),Fe(n),i=n);if(i=null,w)return e;if(b){if(N)for(a=Q.call(t.ownerDocument);t.firstChild;)a.appendChild(t.firstChild);else a=t;return a=v.shadowroot?K.call(l,a,!0):a}o=_?t.outerHTML:t.innerHTML;return _&&f["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&Ke(bt,t.ownerDocument.doctype.name)&&(o="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+o),T&&(o=Ye(o,X," "),o=Ye(o,J," "),o=Ye(o,Z," ")),p&&B?p.createHTML(o):o},c.setConfig=function(e){Me(e),ue=!0},c.clearConfig=function(){r=null,ue=!1},c.isValidAttribute=function(e,t,n){r||Me({});e=g(e),t=g(t);return De(e,t,n)},c.addHook=function(e,t){"function"==typeof t&&(i[e]=i[e]||[],Ve(i[e],t))},c.removeHook=function(e){if(i[e])return je(i[e])},c.removeHooks=function(e){i[e]&&(i[e]=[])},c.removeAllHooks=function(){i={}}}else c.isSupported=!1;return c}()}),function(){window.NTSB=window.NTSB||{},NTSB.AdvocacyLandingAdvocacyServerRelativeUrl="/advocacy/activities/",NTSB.AdvocacyLandingPageSize=10,NTSB.AdvocacyDetailContentType="NTSBAdvocacyDetail";class o{createAdvocacyManager(e,t){this.advocacyManager=NTSB.GetAdvocacyTestimonyManager({containerElement:this.containerElement,serverRelativeUrl:NTSB.AdvocacyLandingAdvocacyServerRelativeUrl,renderer:NTSB.GetAdvocayDetailRenderer(),pageSize:NTSB.AdvocacyLandingPageSize,contentType:NTSB.AdvocacyDetailContentType,isAdvocacy:!0,boardMemberFilter:e,advocacyTypeFilter:t})}constructor({containerElement:e,boardMember:t,advocacyType:n}){NTSB.RequiredParameterValidator(e,"Must provide container element"),this.containerElement=e,this.createAdvocacyManager(t,n)}updateBoardMemberName(e){this.advocacyManager.setFilter(e),this.load()}updateAdvocacyType(e){this.advocacyManager.setAdvocacyFilter(e),this.load()}load(){this.advocacyManager.load()}}NTSB.AdvocacyLandingRollupPageLoad=()=>{const t=NTSB.GetQueryStringValue("BoardMemberName"),n=NTSB.GetQueryStringValue("AdvocacyType"),i=document.getElementById("event_container"),e=document.getElementById("content_contributor_select"),a=document.getElementById("advocacy_type_select");i&&NTSB.QueryCurrentPage().then(e=>{NTSB.AdvocacyLandingPageRollupManager=new o({containerElement:i,boardMember:t,advocacyType:n}),NTSB.AdvocacyLandingPageRollupManager.load()}).catch(NTSB.ErrorHandler),e&&(t&&(e.value=t),e.onchange=()=>NTSB.AdvocacyLandingPageRollupManager.updateBoardMemberName(e.value)),a&&(n&&(a.value=n),a.onchange=()=>NTSB.AdvocacyLandingPageRollupManager.updateAdvocacyType(a.value))}}(),function(){window.NTSB=window.NTSB||{},NTSB.BoardMemberAdvocacyOrderBy="AdvocacyDate",NTSB.BoardMemberAdvocacyOrderByAscending=!1;class l{reloadAdvocacy(e){NTSB.RequiredParameterValidator(e,"Advocacy results must be valid array"),this.advocacy=e,this.populate()}initializeContentQuery(){this.contentRequestManager=NTSB.GetContentRequestManager({serverRelativeURL:this.serverRelativeURL,contentType:this.contentType,pageSize:this.pageSize,orderBy:NTSB.BoardMemberAdvocacyOrderBy,orderByAscending:NTSB.BoardMemberAdvocacyOrderByAscending,filters:this.filters})}buildFilters(){this.filters=[],this.boardMemberFilter&&this.filters.push(NTSB.GetEqualityContentFilter({siteColumn:this.isAdvocacy?"ContentContributor":"BoardMemberName",filterValue:this.boardMemberFilter})),this.advocacyTypeFilter&&this.filters.push(NTSB.GetEqualityContentFilter({siteColumn:"AdvocacyType",filterValue:this.advocacyTypeFilter}))}initializePaginationAction(){this.paginateAction=NTSB.PaginateAction({contentRequestManager:this.contentRequestManager,pageSize:this.pageSize,reloadAction:e=>this.reloadAdvocacy(e),onStart:NTSB.ShowLoadingIndicator,onComplete:NTSB.HideLoadingIndicator})}constructor({containerElement:e,serverRelativeUrl:t,contentType:n,renderer:i,boardMemberFilter:a,advocacyTypeFilter:o,pageSize:r,isAdvocacy:s}){s=void 0===s||s,NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),NTSB.RequiredParameterValidator(t,"Must provide a Server Relative URL that designates the source site for Advocacy data"),this.contentType=n||"NTSBAdvocacyDetail",this.containerElement=e,this.serverRelativeURL=t,this.start=0,this.advocacy=null,this.boardMemberFilter=a,console.log("content contributor: ",this.boardMemberFilter),this.advocacyTypeFilter=o,console.log("advocacy type: ",this.advocacyType),this.pageSize=r||4,this.isAdvocacy=s,this.buildFilters(),this.initializeContentQuery(),this.renderer=i||NTSB.GetBoardMemberAdvocacyRenderer(),NTSB.PaginationManager&&(this.initializePaginationAction(),NTSB.PaginationManager.setNextClickAction(()=>this.paginateAction.next()),NTSB.PaginationManager.setHomeClickAction(()=>this.paginateAction.home()),NTSB.PaginationManager.setPreviousClickAction(()=>this.paginateAction.previous()))}setServerRelativeUrl(e){NTSB.RequiredParameterValidator(e,"Must Provide Server Relative Url"),this.serverRelativeURL=e,this.initializeContentQuery()}setFilter(e){this.start=0,this.boardMemberFilter=e,this.boardMemberFilter&&(this.buildFilters(),this.contentRequestManager.reset(),this.initializeContentQuery(),this.initializePaginationAction())}setAdvocacyFilter(e){this.start=0,this.advocacyTypeFilter=e,this.advocacyTypeFilter&&(this.buildFilters(),this.contentRequestManager.reset(),this.initializeContentQuery(),this.initializePaginationAction())}load(){NTSB.ShowLoadingIndicator(),NTSB.PaginationManager&&NTSB.PaginationManager.disableNext(),this.contentRequestManager.sendRequest().then(e=>{this.advocacy=e.d.results,this.populate(),e.d.__next&&NTSB.PaginationManager&&NTSB.PaginationManager.enableNext(),NTSB.PaginationManager&&NTSB.PaginationManager.setPageNumberRange(this.start,this.start+e.d.results.length),NTSB.HideLoadingIndicator()}).catch(NTSB.ErrorHandler)}populate(){this.containerElement.innerHTML="",this.advocacy.forEach(e=>this.containerElement.appendChild(this.renderer.render(e)))}filterButtonHelper(e){this.clearActiveStyle(),this.setFilter(e),this.load()}}NTSB.GetAdvocacyTestimonyManager=({containerElement:e,serverRelativeUrl:t,contentType:n,renderer:i,pageSize:a,isAdvocacy:o,boardMemberFilter:r,advocacyTypeFilter:s})=>new l({containerElement:e,serverRelativeUrl:t,contentType:n,renderer:i,boardMemberFilter:r,advocacyTypeFilter:s,pageSize:a,isAdvocacy:o})}(),function(){window.NTSB=window.NTSB||{},NTSB.BoardMemberDetailAdvocacyServerRelativeUrl="/advocacy/Activities/",NTSB.BoardMemberDetailTestimonyServerRelativeUrl="/news/Testimony/",NTSB.BoardMemberDetailPageSize=4;class i{constructor({boardMemberName:e,containerElement:t}){NTSB.RequiredParameterValidator(e,"Must provide board member name"),NTSB.RequiredParameterValidator(t,"Must provide container element"),this.boardMemberName=e,this.containerElement=t,this.createAdvocacyManager()}createAdvocacyManager(){this.advocacyTestimonyManager=NTSB.GetAdvocacyTestimonyManager({containerElement:this.containerElement,serverRelativeUrl:NTSB.BoardMemberDetailAdvocacyServerRelativeUrl,renderer:NTSB.GetBoardMemberAdvocacyRenderer(),boardMemberFilter:this.boardMemberName,pageSize:NTSB.BoardMemberDetailPageSize})}createTestimonyManager(){this.advocacyTestimonyManager=NTSB.GetAdvocacyTestimonyManager({containerElement:this.containerElement,serverRelativeUrl:NTSB.BoardMemberDetailTestimonyServerRelativeUrl,renderer:NTSB.GetBoardMemberAdvocacyRenderer(),boardMemberFilter:this.boardMemberName,pageSize:NTSB.BoardMemberDetailPageSize,contentType:"NTSB Testimony",isAdvocacy:!1})}load(){this.advocacyTestimonyManager.load()}}NTSB.BoardMemberDetailPageLoad=()=>{const t=document.getElementById("advocacy_container");var e=document.getElementById("testimony_anchor"),n=document.getElementById("advocacy_anchor");t&&NTSB.QueryCurrentPage().then(e=>{NTSB.BoardMemberName=e.d.BoardMemberName,NTSB.BoardMemberDetailManager=new i({boardMemberName:e.d.BoardMemberName,containerElement:t}),NTSB.BoardMemberDetailManager.load()}).catch(NTSB.ErrorHandler),n&&(n.onclick=()=>{NTSB.BoardMemberDetailManager.createAdvocacyManager(),NTSB.BoardMemberDetailManager.load()}),e&&(e.onclick=()=>{NTSB.BoardMemberDetailManager.createTestimonyManager(),NTSB.BoardMemberDetailManager.load()})}}(),console.log("load bootstrap"),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=t(e.Popper)}(this,function(D){"use strict";var n,i,O=(n=D)&&n.__esModule?n:(i=Object.create(null),n&&Object.keys(n).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(n,e),Object.defineProperty(i,e,t.get?t:{enumerable:!0,get:function(){return n[e]}}))}),i.default=n,Object.freeze(i));function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){for(;e+=Math.floor(1e6*Math.random()),document.getElementById(e););return e}function z(e){return(e=Q(e))&&document.querySelector(e)?e:null}function r(e){return(e=Q(e))?document.querySelector(e):null}function d(e){var t,n,i;return e&&(t=(e=window.getComputedStyle(e)).transitionDuration,e=e.transitionDelay,n=Number.parseFloat(t),i=Number.parseFloat(e),n||i)?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0}function q(e){e.dispatchEvent(new Event("transitionend"))}function s(e){return(e[0]||e).nodeType}function u(t,e){var n=!1,e=e+5;t.addEventListener("transitionend",function e(){n=!0,t.removeEventListener("transitionend",e)}),setTimeout(function(){n||q(t)},e)}function a(i,a,o){Object.keys(o).forEach(function(e){var t=o[e],n=a[e],n=n&&s(n)?"element":null==n?""+n:{}.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(t).test(n))throw new TypeError(i.toUpperCase()+': Option "'+e+'" provided type "'+n+'" but expected type "'+t+'".')})}function U(e){var t;return!!e&&!!(e.style&&e.parentNode&&e.parentNode.style)&&(t=getComputedStyle(e),e=getComputedStyle(e.parentNode),"none"!==t.display)&&"none"!==e.display&&"hidden"!==t.visibility}function G(){return function(){}}function h(e){e.offsetHeight}function j(){var e=window.jQuery;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null}function l(n,i){var e=function(){var e,t=j();t&&(e=t.fn[n],t.fn[n]=i.jQueryInterface,t.fn[n].Constructor=i,t.fn[n].noConflict=function(){return t.fn[n]=e,i.jQueryInterface})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}function c(e,t,n){Y.set(e,t,n)}function p(e,t){return Y.get(e,t)}var V,W,Q=function(e){var t=e.getAttribute("data-bs-target");if(!t||"#"===t){e=e.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;t=(e=e.includes("#")&&!e.startsWith("#")?"#"+e.split("#")[1]:e)&&"#"!==e?e.trim():null}return t},m="rtl"===document.documentElement.dir,Y=(V={},{set:function(e,t,n){void 0===e.bsKey&&(e.bsKey={key:t,id:W},W++),V[e.bsKey.id]=n},get:function(e,t){return e&&void 0!==e.bsKey&&(e=e.bsKey).key===t?V[e.id]:null},delete:function(e,t){var n;void 0!==e.bsKey&&(n=e.bsKey).key===t&&(delete V[n.id],delete e.bsKey)}}),K=/[^.]*(?=\..*)\.|.*/,$=/\..*/,X=/::\d+$/,J={},Z=W=1,ee={mouseenter:"mouseover",mouseleave:"mouseout"},te=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ne(e,t){return t&&t+"::"+Z++||e.uidEvent||Z++}function ie(e){var t=ne(e);return e.uidEvent=t,J[t]=J[t]||{},J[t]}function ae(e,t,n){void 0===n&&(n=null);for(var i=Object.keys(e),a=0,o=i.length;a<o;a++){var r=e[i[a]];if(r.originalHandler===t&&r.delegationSelector===n)return r}return null}function oe(e,t,n){var i="string"==typeof t,n=i?n:t,t=e.replace($,""),a=ee[t];return[i,n,t=te.has(t=a?a:t)?t:e]}function re(e,t,n,i,a){var o,r,s,l,c,d,u,h,p,m;"string"==typeof t&&e&&(n||(n=i,i=null),o=(s=oe(t,n,i))[0],r=s[1],s=s[2],(c=ae(l=(l=ie(e))[s]||(l[s]={}),r,o?n:null))?c.oneOff=c.oneOff&&a:(c=ne(r,t.replace(K,"")),(t=o?(h=e,p=n,m=i,function e(t){for(var n=h.querySelectorAll(p),i=t.target;i&&i!==this;i=i.parentNode)for(var a=n.length;a--;)if(n[a]===i)return t.delegateTarget=i,e.oneOff&&g.off(h,t.type,m),m.apply(i,[t]);return null}):(d=e,u=n,function e(t){return t.delegateTarget=d,e.oneOff&&g.off(d,t.type,u),u.apply(d,[t])})).delegationSelector=o?n:null,t.originalHandler=r,t.oneOff=a,l[t.uidEvent=c]=t,e.addEventListener(s,t,o)))}function se(e,t,n,i,a){i=ae(t[n],i,a);i&&(e.removeEventListener(n,i,Boolean(a)),delete t[n][i.uidEvent])}var le,g={on:function(e,t,n,i){re(e,t,n,i,!1)},one:function(e,t,n,i){re(e,t,n,i,!0)},off:function(r,s,e,t){var n,i,a,o,l,c;"string"==typeof s&&r&&(n=(t=oe(s,e,t))[0],i=t[1],a=t[2],o=a!==s,l=ie(r),t=s.startsWith("."),void 0===i?(t&&Object.keys(l).forEach(function(e){var t,n,i,a,o;t=r,n=l,i=e,a=s.slice(1),o=n[i]||{},Object.keys(o).forEach(function(e){e.includes(a)&&(e=o[e],se(t,n,i,e.originalHandler,e.delegationSelector))})}),c=l[a]||{},Object.keys(c).forEach(function(e){var t=e.replace(X,"");o&&!s.includes(t)||(t=c[e],se(r,l,a,t.originalHandler,t.delegationSelector))})):l&&l[a]&&se(r,l,a,i,n?e:null))},trigger:function(e,t,n){var i,a,o,r,s,l,c,d,u;return"string"==typeof t&&e?(a=j(),o=t.replace($,""),r=t!==o,s=te.has(o),d=!(c=l=!0),u=null,r&&a&&(i=a.Event(t,n),a(e).trigger(i),l=!i.isPropagationStopped(),c=!i.isImmediatePropagationStopped(),d=i.isDefaultPrevented()),s?(u=document.createEvent("HTMLEvents")).initEvent(o,l,!0):u=new CustomEvent(t,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach(function(e){Object.defineProperty(u,e,{get:function(){return n[e]}})}),d&&u.preventDefault(),c&&e.dispatchEvent(u),u.defaultPrevented&&void 0!==i&&i.preventDefault(),u):null}},f=(ce.prototype.dispose=function(){var e=this._element,t=this.constructor.DATA_KEY;Y.delete(e,t),this._element=null},ce.getInstance=function(e){return p(e,this.DATA_KEY)},e(ce,null,[{key:"VERSION",get:function(){return"5.0.0-beta2"}}]),ce),v=(t(y,le=f),(v=y.prototype).close=function(e){var e=e?this._getRootElement(e):this._element,t=this._triggerCloseEvent(e);null===t||t.defaultPrevented||this._removeElement(e)},v._getRootElement=function(e){return r(e)||e.closest(".alert")},v._triggerCloseEvent=function(e){return g.trigger(e,"close.bs.alert")},v._removeElement=function(e){var t,n=this;e.classList.remove("show"),e.classList.contains("fade")?(t=d(e),g.one(e,"transitionend",function(){return n._destroyElement(e)}),u(e,t)):this._destroyElement(e)},v._destroyElement=function(e){e.parentNode&&e.parentNode.removeChild(e),g.trigger(e,"closed.bs.alert")},y.jQueryInterface=function(t){return this.each(function(){var e=(e=p(this,"bs.alert"))||new y(this);"close"===t&&e[t](this)})},y.handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},e(y,null,[{key:"DATA_KEY",get:function(){return"bs.alert"}}]),y);function y(){return le.apply(this,arguments)||this}function ce(e){e&&(this._element=e,c(e,this.constructor.DATA_KEY,this))}g.on(document,"click.bs.alert.data-api",'[data-bs-dismiss="alert"]',v.handleDismiss(new v)),l("alert",v);t(S,de=f),S.prototype.toggle=function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))},S.jQueryInterface=function(t){return this.each(function(){var e=(e=p(this,"bs.button"))||new S(this);"toggle"===t&&e[t]()})},e(S,null,[{key:"DATA_KEY",get:function(){return"bs.button"}}]);var de,ue=S;function S(){return de.apply(this,arguments)||this}function he(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function pe(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}g.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',function(e){e.preventDefault();e=e.target.closest('[data-bs-toggle="button"]');(p(e,"bs.button")||new ue(e)).toggle()}),l("button",ue);function T(e,t){var n;return void 0===t&&(t=document.documentElement),(n=[]).concat.apply(n,Element.prototype.querySelectorAll.call(t,e))}function _(e,t){return void 0===t&&(t=document.documentElement),Element.prototype.querySelector.call(t,e)}function me(e,t){var n;return(n=[]).concat.apply(n,e.children).filter(function(e){return e.matches(t)})}function ge(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]}var fe,b={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-"+pe(t),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-"+pe(t))},getDataAttributes:function(n){var i;return n?(i={},Object.keys(n.dataset).filter(function(e){return e.startsWith("bs")}).forEach(function(e){var t=(t=e.replace(/^bs/,"")).charAt(0).toLowerCase()+t.slice(1,t.length);i[t]=he(n.dataset[e])}),i):{}},getDataAttribute:function(e,t){return he(e.getAttribute("data-bs-"+pe(t)))},offset:function(e){e=e.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:function(e){return{top:e.offsetTop,left:e.offsetLeft}}},ve={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ye={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Se=(t(N,fe=f),(A=N.prototype).next=function(){this._isSliding||this._slide("next")},A.nextWhenVisible=function(){!document.hidden&&U(this._element)&&this.next()},A.prev=function(){this._isSliding||this._slide("prev")},A.pause=function(e){e||(this._isPaused=!0),_(".carousel-item-next, .carousel-item-prev",this._element)&&(q(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},A.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},A.to=function(e){var t=this,n=(this._activeElement=_(".active.carousel-item",this._element),this._getItemIndex(this._activeElement));e>this._items.length-1||e<0||(this._isSliding?g.one(this._element,"slid.bs.carousel",function(){return t.to(e)}):n===e?(this.pause(),this.cycle()):this._slide(n<e?"next":"prev",this._items[e]))},A.dispose=function(){fe.prototype.dispose.call(this),g.off(this._element,".bs.carousel"),this._items=null,this._config=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},A._getConfig=function(e){return e=o({},ve,e),a("carousel",e,ye),e},A._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);e<=40||(e=e/this.touchDeltaX,(this.touchDeltaX=0)<e&&(m?this.next():this.prev()),e<0&&(m?this.prev():this.next()))},A._addEventListeners=function(){var t=this;this._config.keyboard&&g.on(this._element,"keydown.bs.carousel",function(e){return t._keydown(e)}),"hover"===this._config.pause&&(g.on(this._element,"mouseenter.bs.carousel",function(e){return t.pause(e)}),g.on(this._element,"mouseleave.bs.carousel",function(e){return t.cycle(e)})),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()},A._addTouchEventListeners=function(){function e(e){!n._pointerEvent||"pen"!==e.pointerType&&"touch"!==e.pointerType?n._pointerEvent||(n.touchStartX=e.touches[0].clientX):n.touchStartX=e.clientX}function t(e){!n._pointerEvent||"pen"!==e.pointerType&&"touch"!==e.pointerType||(n.touchDeltaX=e.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(e){return n.cycle(e)},500+n._config.interval))}var n=this;T(".carousel-item img",this._element).forEach(function(e){g.on(e,"dragstart.bs.carousel",function(e){return e.preventDefault()})}),this._pointerEvent?(g.on(this._element,"pointerdown.bs.carousel",e),g.on(this._element,"pointerup.bs.carousel",t),this._element.classList.add("pointer-event")):(g.on(this._element,"touchstart.bs.carousel",e),g.on(this._element,"touchmove.bs.carousel",function(e){(e=e).touches&&1<e.touches.length?n.touchDeltaX=0:n.touchDeltaX=e.touches[0].clientX-n.touchStartX}),g.on(this._element,"touchend.bs.carousel",t))},A._keydown=function(e){/input|textarea/i.test(e.target.tagName)||("ArrowLeft"===e.key?(e.preventDefault(),m?this.next():this.prev()):"ArrowRight"===e.key&&(e.preventDefault(),m?this.prev():this.next()))},A._getItemIndex=function(e){return this._items=e&&e.parentNode?T(".carousel-item",e.parentNode):[],this._items.indexOf(e)},A._getItemByDirection=function(e,t){var n="next"===e,i="prev"===e,a=this._getItemIndex(t),o=this._items.length-1;return(i&&0===a||n&&a===o)&&!this._config.wrap?t:-1==(i=(a+("prev"===e?-1:1))%this._items.length)?this._items[this._items.length-1]:this._items[i]},A._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(_(".active.carousel-item",this._element));return g.trigger(this._element,"slide.bs.carousel",{relatedTarget:e,direction:t,from:i,to:n})},A._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=_(".active",this._indicatorsElement);t.classList.remove("active"),t.removeAttribute("aria-current");for(var n=T("[data-bs-target]",this._indicatorsElement),i=0;i<n.length;i++)if(Number.parseInt(n[i].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){n[i].classList.add("active"),n[i].setAttribute("aria-current","true");break}}},A._updateInterval=function(){var e=this._activeElement||_(".active.carousel-item",this._element);e&&((e=Number.parseInt(e.getAttribute("data-bs-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval)},A._slide=function(e,t){var n=this,i=_(".active.carousel-item",this._element),a=this._getItemIndex(i),o=t||i&&this._getItemByDirection(e,i),r=this._getItemIndex(o),t=Boolean(this._interval),s="next"===e?"carousel-item-start":"carousel-item-end",l="next"===e?"carousel-item-next":"carousel-item-prev",c="next"===e?"left":"right";o&&o.classList.contains("active")?this._isSliding=!1:!this._triggerSlideEvent(o,c).defaultPrevented&&i&&o&&(this._isSliding=!0,t&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o,this._element.classList.contains("slide")?(o.classList.add(l),h(o),i.classList.add(s),o.classList.add(s),e=d(i),g.one(i,"transitionend",function(){o.classList.remove(s,l),o.classList.add("active"),i.classList.remove("active",l,s),n._isSliding=!1,setTimeout(function(){g.trigger(n._element,"slid.bs.carousel",{relatedTarget:o,direction:c,from:a,to:r})},0)}),u(i,e)):(i.classList.remove("active"),o.classList.add("active"),this._isSliding=!1,g.trigger(this._element,"slid.bs.carousel",{relatedTarget:o,direction:c,from:a,to:r})),t)&&this.cycle()},N.carouselInterface=function(e,t){var n=p(e,"bs.carousel"),i=o({},ve,b.getDataAttributes(e)),a=("object"==typeof t&&(i=o({},i,t)),"string"==typeof t?t:i.slide),n=n||new N(e,i);if("number"==typeof t)n.to(t);else if("string"==typeof a){if(void 0===n[a])throw new TypeError('No method named "'+a+'"');n[a]()}else i.interval&&i.ride&&(n.pause(),n.cycle())},N.jQueryInterface=function(e){return this.each(function(){N.carouselInterface(this,e)})},N.dataApiClickHandler=function(e){var t,n,i=r(this);i&&i.classList.contains("carousel")&&(t=o({},b.getDataAttributes(i),b.getDataAttributes(this)),(n=this.getAttribute("data-bs-slide-to"))&&(t.interval=!1),N.carouselInterface(i,t),n&&p(i,"bs.carousel").to(n),e.preventDefault())},e(N,null,[{key:"Default",get:function(){return ve}},{key:"DATA_KEY",get:function(){return"bs.carousel"}}]),N);function N(e,t){return(e=fe.call(this,e)||this)._items=null,e._interval=null,e._activeElement=null,e._isPaused=!1,e._isSliding=!1,e.touchTimeout=null,e.touchStartX=0,e.touchDeltaX=0,e._config=e._getConfig(t),e._indicatorsElement=_(".carousel-indicators",e._element),e._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,e._pointerEvent=Boolean(window.PointerEvent),e._addEventListeners(),e}g.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Se.dataApiClickHandler),g.on(window,"load.bs.carousel.data-api",function(){for(var e=T('[data-bs-ride="carousel"]'),t=0,n=e.length;t<n;t++)Se.carouselInterface(e[t],p(e[t],"bs.carousel"))}),l("carousel",Se);var Te,_e={toggle:!0,parent:""},be={toggle:"boolean",parent:"(string|element)"},Ne=(t(B,Te=f),(A=B.prototype).toggle=function(){this._element.classList.contains("show")?this.hide():this.show()},A.show=function(){var t=this;if(!this._isTransitioning&&!this._element.classList.contains("show")){this._parent&&0===(i=T(".show, .collapsing",this._parent).filter(function(e){return"string"==typeof t._config.parent?e.getAttribute("data-bs-parent")===t._config.parent:e.classList.contains("collapse")})).length&&(i=null);var n,e,i,a=_(this._selector);if(i){var o=i.find(function(e){return a!==e});if((n=o?p(o,"bs.collapse"):null)&&n._isTransitioning)return}g.trigger(this._element,"show.bs.collapse").defaultPrevented||(i&&i.forEach(function(e){a!==e&&B.collapseInterface(e,"hide"),n||c(e,"bs.collapse",null)}),e=this._getDimension(),this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[e]=0,this._triggerArray.length&&this._triggerArray.forEach(function(e){e.classList.remove("collapsed"),e.setAttribute("aria-expanded",!0)}),this.setTransitioning(!0),o="scroll"+(e[0].toUpperCase()+e.slice(1)),i=d(this._element),g.one(this._element,"transitionend",function(){t._element.classList.remove("collapsing"),t._element.classList.add("collapse","show"),t._element.style[e]="",t.setTransitioning(!1),g.trigger(t._element,"shown.bs.collapse")}),u(this._element,i),this._element.style[e]=this._element[o]+"px")}},A.hide=function(){var e=this;if(!this._isTransitioning&&this._element.classList.contains("show")&&!g.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=this._getDimension(),n=(this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",h(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show"),this._triggerArray.length);if(0<n)for(var i=0;i<n;i++){var a=this._triggerArray[i],o=r(a);o&&!o.classList.contains("show")&&(a.classList.add("collapsed"),a.setAttribute("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[t]="";t=d(this._element);g.one(this._element,"transitionend",function(){e.setTransitioning(!1),e._element.classList.remove("collapsing"),e._element.classList.add("collapse"),g.trigger(e._element,"hidden.bs.collapse")}),u(this._element,t)}},A.setTransitioning=function(e){this._isTransitioning=e},A.dispose=function(){Te.prototype.dispose.call(this),this._config=null,this._parent=null,this._triggerArray=null,this._isTransitioning=null},A._getConfig=function(e){return(e=o({},_e,e)).toggle=Boolean(e.toggle),a("collapse",e,be),e},A._getDimension=function(){return this._element.classList.contains("width")?"width":"height"},A._getParent=function(){var n=this,e=this._config.parent;return s(e)?void 0===e.jquery&&void 0===e[0]||(e=e[0]):e=_(e),T('[data-bs-toggle="collapse"][data-bs-parent="'+e+'"]',e).forEach(function(e){var t=r(e);n._addAriaAndCollapsedClass(t,[e])}),e},A._addAriaAndCollapsedClass=function(e,t){var n;e&&t.length&&(n=e.classList.contains("show"),t.forEach(function(e){n?e.classList.remove("collapsed"):e.classList.add("collapsed"),e.setAttribute("aria-expanded",n)}))},B.collapseInterface=function(e,t){var n=p(e,"bs.collapse"),i=o({},_e,b.getDataAttributes(e),"object"==typeof t&&t?t:{});if(!n&&i.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(i.toggle=!1),n=n||new B(e,i),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}},B.jQueryInterface=function(e){return this.each(function(){B.collapseInterface(this,e)})},e(B,null,[{key:"Default",get:function(){return _e}},{key:"DATA_KEY",get:function(){return"bs.collapse"}}]),B);function B(t,e){var n;(n=Te.call(this,t)||this)._isTransitioning=!1,n._config=n._getConfig(e),n._triggerArray=T('[data-bs-toggle="collapse"][href="#'+t.id+'"],[data-bs-toggle="collapse"][data-bs-target="#'+t.id+'"]');for(var i=T('[data-bs-toggle="collapse"]'),a=0,o=i.length;a<o;a++){var r=i[a],s=z(r),l=T(s).filter(function(e){return e===t});null!==s&&l.length&&(n._selector=s,n._triggerArray.push(r))}return n._parent=n._config.parent?n._getParent():null,n._config.parent||n._addAriaAndCollapsedClass(n._element,n._triggerArray),n._config.toggle&&n.toggle(),n}g.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();var n=b.getDataAttributes(this),e=z(this);T(e).forEach(function(e){var t=p(e,"bs.collapse"),t=t?(null===t._parent&&"string"==typeof n.parent&&(t._config.parent=n.parent,t._parent=t._getParent()),"toggle"):n;Ne.collapseInterface(e,t)})}),l("collapse",Ne);var Be,we=new RegExp("ArrowUp|ArrowDown|Escape"),Ee=m?"top-end":"top-start",Me=m?"top-start":"top-end",Ae=m?"bottom-end":"bottom-start",Ce=m?"bottom-start":"bottom-end",Re=m?"left-start":"right-start",Le=m?"right-start":"left-start",Pe={offset:[0,2],flip:!0,boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null},xe={offset:"(array|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)"},w=(t(E,Be=f),(A=E.prototype).toggle=function(){var e;this._element.disabled||this._element.classList.contains("disabled")||(e=this._element.classList.contains("show"),E.clearMenus(),e)||this.show()},A.show=function(){if(!(this._element.disabled||this._element.classList.contains("disabled")||this._menu.classList.contains("show"))){var e=E.getParentFromElement(this._element),t={relatedTarget:this._element};if(!g.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._inNavbar)b.setDataAttribute(this._menu,"popper","none");else{if(void 0===O)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var n=this._element,i=("parent"===this._config.reference?n=e:s(this._config.reference)?(n=this._config.reference,void 0!==this._config.reference.jquery&&(n=this._config.reference[0])):"object"==typeof this._config.reference&&(n=this._config.reference),this._getPopperConfig()),a=i.modifiers.find(function(e){return"applyStyles"===e.name&&!1===e.enabled});this._popper=D.createPopper(n,this._menu,i),a&&b.setDataAttribute(this._menu,"popper","static")}"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav")&&(n=[]).concat.apply(n,document.body.children).forEach(function(e){return g.on(e,"mouseover",null,function(){})}),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),g.trigger(this._element,"shown.bs.dropdown",t)}}},A.hide=function(){var e;this._element.disabled||this._element.classList.contains("disabled")||!this._menu.classList.contains("show")||(e={relatedTarget:this._element},g.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented)||(this._popper&&this._popper.destroy(),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),b.removeDataAttribute(this._menu,"popper"),g.trigger(this._element,"hidden.bs.dropdown",e))},A.dispose=function(){Be.prototype.dispose.call(this),g.off(this._element,".bs.dropdown"),this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null)},A.update=function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()},A._addEventListeners=function(){var t=this;g.on(this._element,"click.bs.dropdown",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},A._getConfig=function(e){if(e=o({},this.constructor.Default,b.getDataAttributes(this._element),e),a("dropdown",e,this.constructor.DefaultType),"object"!=typeof e.reference||s(e.reference)||"function"==typeof e.reference.getBoundingClientRect)return e;throw new TypeError("dropdown".toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.')},A._getMenuElement=function(){return function(e){for(var t=e.nextElementSibling;t;){if(t.matches(".dropdown-menu"))return[t];t=t.nextElementSibling}return[]}(this._element)[0]},A._getPlacement=function(){var e,t=this._element.parentNode;return t.classList.contains("dropend")?Re:t.classList.contains("dropstart")?Le:(e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim(),t.classList.contains("dropup")?e?Me:Ee:e?Ce:Ae)},A._detectNavbar=function(){return null!==this._element.closest(".navbar")},A._getOffset=function(){var t=this,n=this._config.offset;return"string"==typeof n?n.split(",").map(function(e){return Number.parseInt(e,10)}):"function"==typeof n?function(e){return n(e,t._element)}:n},A._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{altBoundary:this._config.flip,boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),o({},e,"function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)},E.dropdownInterface=function(e,t){var n=(n=p(e,"bs.dropdown"))||new E(e,"object"==typeof t?t:null);if("string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}},E.jQueryInterface=function(e){return this.each(function(){E.dropdownInterface(this,e)})},E.clearMenus=function(e){if(!e||2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(var t=T('[data-bs-toggle="dropdown"]'),n=0,i=t.length;n<i;n++){var a,o,r=p(t[n],"bs.dropdown"),s={relatedTarget:t[n]};e&&"click"===e.type&&(s.clickEvent=e),r&&(o=r._menu,t[n].classList.contains("show"))&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&"Tab"===e.key)&&o.contains(e.target)||g.trigger(t[n],"hide.bs.dropdown",s).defaultPrevented)&&("ontouchstart"in document.documentElement&&(a=[]).concat.apply(a,document.body.children).forEach(function(e){return g.off(e,"mouseover",null,function(){})}),t[n].setAttribute("aria-expanded","false"),r._popper&&r._popper.destroy(),o.classList.remove("show"),t[n].classList.remove("show"),b.removeDataAttribute(o,"popper"),g.trigger(t[n],"hidden.bs.dropdown",s))}},E.getParentFromElement=function(e){return r(e)||e.parentNode},E.dataApiKeydownHandler=function(e){var t,n;(/input|textarea/i.test(e.target.tagName)?"Space"===e.key||"Escape"!==e.key&&("ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.target.closest(".dropdown-menu")):!we.test(e.key))||(e.preventDefault(),e.stopPropagation(),this.disabled)||this.classList.contains("disabled")||(n=E.getParentFromElement(this),t=this.classList.contains("show"),"Escape"===e.key?((this.matches('[data-bs-toggle="dropdown"]')?this:ge(this,'[data-bs-toggle="dropdown"]')[0]).focus(),E.clearMenus()):t||"ArrowUp"!==e.key&&"ArrowDown"!==e.key?t&&"Space"!==e.key?(t=T(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",n).filter(U)).length&&(n=t.indexOf(e.target),"ArrowUp"===e.key&&0<n&&n--,"ArrowDown"===e.key&&n<t.length-1&&n++,t[n=-1===n?0:n].focus()):E.clearMenus():(this.matches('[data-bs-toggle="dropdown"]')?this:ge(this,'[data-bs-toggle="dropdown"]')[0]).click())},e(E,null,[{key:"Default",get:function(){return Pe}},{key:"DefaultType",get:function(){return xe}},{key:"DATA_KEY",get:function(){return"bs.dropdown"}}]),E);function E(e,t){return(e=Be.call(this,e)||this)._popper=null,e._config=e._getConfig(t),e._menu=e._getMenuElement(),e._inNavbar=e._detectNavbar(),e._addEventListeners(),e}g.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',w.dataApiKeydownHandler),g.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",w.dataApiKeydownHandler),g.on(document,"click.bs.dropdown.data-api",w.clearMenus),g.on(document,"keyup.bs.dropdown.data-api",w.clearMenus),g.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',function(e){e.preventDefault(),e.stopPropagation(),w.dropdownInterface(this,"toggle")}),g.on(document,"click.bs.dropdown.data-api",".dropdown form",function(e){return e.stopPropagation()}),l("dropdown",w);var ke,Ie={backdrop:!0,keyboard:!0,focus:!0},De={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Oe=(t(M,ke=f),(A=M.prototype).toggle=function(e){return this._isShown?this.hide():this.show(e)},A.show=function(e){var t,n=this;this._isShown||this._isTransitioning||(this._element.classList.contains("fade")&&(this._isTransitioning=!0),t=g.trigger(this._element,"show.bs.modal",{relatedTarget:e}),this._isShown)||t.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),g.on(this._element,"click.dismiss.bs.modal",'[data-bs-dismiss="modal"]',function(e){return n.hide(e)}),g.on(this._dialog,"mousedown.dismiss.bs.modal",function(){g.one(n._element,"mouseup.dismiss.bs.modal",function(e){e.target===n._element&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))},A.hide=function(e){var t=this;e&&e.preventDefault(),!this._isShown||this._isTransitioning||g.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,(e=this._element.classList.contains("fade"))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),g.off(document,"focusin.bs.modal"),this._element.classList.remove("show"),g.off(this._element,"click.dismiss.bs.modal"),g.off(this._dialog,"mousedown.dismiss.bs.modal"),e?(e=d(this._element),g.one(this._element,"transitionend",function(e){return t._hideModal(e)}),u(this._element,e)):this._hideModal())},A.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return g.off(e,".bs.modal")}),ke.prototype.dispose.call(this),g.off(document,"focusin.bs.modal"),this._config=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},A.handleUpdate=function(){this._adjustDialog()},A._getConfig=function(e){return e=o({},Ie,e),a("modal",e,De),e},A._showElement=function(e){function t(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,g.trigger(n._element,"shown.bs.modal",{relatedTarget:e})}var n=this,i=this._element.classList.contains("fade"),a=_(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,a&&(a.scrollTop=0),i&&h(this._element),this._element.classList.add("show"),this._config.focus&&this._enforceFocus();i?(a=d(this._dialog),g.one(this._dialog,"transitionend",t),u(this._dialog,a)):t()},A._enforceFocus=function(){var t=this;g.off(document,"focusin.bs.modal"),g.on(document,"focusin.bs.modal",function(e){document===e.target||t._element===e.target||t._element.contains(e.target)||t._element.focus()})},A._setEscapeEvent=function(){var t=this;this._isShown?g.on(this._element,"keydown.dismiss.bs.modal",function(e){t._config.keyboard&&"Escape"===e.key?(e.preventDefault(),t.hide()):t._config.keyboard||"Escape"!==e.key||t._triggerBackdropTransition()}):g.off(this._element,"keydown.dismiss.bs.modal")},A._setResizeEvent=function(){var e=this;this._isShown?g.on(window,"resize.bs.modal",function(){return e._adjustDialog()}):g.off(window,"resize.bs.modal")},A._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){document.body.classList.remove("modal-open"),e._resetAdjustments(),e._resetScrollbar(),g.trigger(e._element,"hidden.bs.modal")})},A._removeBackdrop=function(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null},A._showBackdrop=function(e){var t,n=this,i=this._element.classList.contains("fade")?"fade":"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),document.body.appendChild(this._backdrop),g.on(this._element,"click.dismiss.bs.modal",function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._triggerBackdropTransition():n.hide())}),i&&h(this._backdrop),this._backdrop.classList.add("show"),i?(i=d(this._backdrop),g.one(this._backdrop,"transitionend",e),u(this._backdrop,i)):e()):!this._isShown&&this._backdrop?(this._backdrop.classList.remove("show"),i=function(){n._removeBackdrop(),e()},this._element.classList.contains("fade")?(t=d(this._backdrop),g.one(this._backdrop,"transitionend",i),u(this._backdrop,t)):i()):e()},A._triggerBackdropTransition=function(){var e,t,n=this;g.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented||((e=this._element.scrollHeight>document.documentElement.clientHeight)||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static"),t=d(this._dialog),g.off(this._element,"transitionend"),g.one(this._element,"transitionend",function(){n._element.classList.remove("modal-static"),e||(g.one(n._element,"transitionend",function(){n._element.style.overflowY=""}),u(n._element,t))}),u(this._element,t),this._element.focus())},A._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;(!this._isBodyOverflowing&&e&&!m||this._isBodyOverflowing&&!e&&m)&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),(this._isBodyOverflowing&&!e&&!m||!this._isBodyOverflowing&&e&&m)&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},A._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},A._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},A._setScrollbar=function(){var t=this;this._isBodyOverflowing&&(this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight",function(e){return e+t._scrollbarWidth}),this._setElementAttributes(".sticky-top","marginRight",function(e){return e-t._scrollbarWidth}),this._setElementAttributes("body","paddingRight",function(e){return e+t._scrollbarWidth})),document.body.classList.add("modal-open")},A._setElementAttributes=function(e,i,a){T(e).forEach(function(e){var t=e.style[i],n=window.getComputedStyle(e)[i];b.setDataAttribute(e,i,t),e.style[i]=a(Number.parseFloat(n))+"px"})},A._resetScrollbar=function(){this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight"),this._resetElementAttributes(".sticky-top","marginRight"),this._resetElementAttributes("body","paddingRight")},A._resetElementAttributes=function(e,n){T(e).forEach(function(e){var t=b.getDataAttribute(e,n);void 0===t&&e===document.body?e.style[n]="":(b.removeDataAttribute(e,n),e.style[n]=t)})},A._getScrollbarWidth=function(){var e=document.createElement("div"),t=(e.className="modal-scrollbar-measure",document.body.appendChild(e),e.getBoundingClientRect().width-e.clientWidth);return document.body.removeChild(e),t},M.jQueryInterface=function(n,i){return this.each(function(){var e=p(this,"bs.modal"),t=o({},Ie,b.getDataAttributes(this),"object"==typeof n&&n?n:{}),e=e||new M(this,t);if("string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](i)}})},e(M,null,[{key:"Default",get:function(){return Ie}},{key:"DATA_KEY",get:function(){return"bs.modal"}}]),M);function M(e,t){var n;return(n=ke.call(this,e)||this)._config=n._getConfig(t),n._dialog=_(".modal-dialog",e),n._backdrop=null,n._isShown=!1,n._isBodyOverflowing=!1,n._ignoreBackdropClick=!1,n._isTransitioning=!1,n._scrollbarWidth=0,n}g.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(e){var t,n=this,i=r(this),e=("A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault(),g.one(i,"show.bs.modal",function(e){e.defaultPrevented||g.one(i,"hidden.bs.modal",function(){U(n)&&n.focus()})}),p(i,"bs.modal"));e||(t=o({},b.getDataAttributes(i),b.getDataAttributes(this)),e=new Oe(i,t)),e.toggle(this)}),l("modal",Oe);var Fe=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),He=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,ze=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function qe(e,a,t){if(!e.length)return e;if(t&&"function"==typeof t)return t(e);for(var t=(new window.DOMParser).parseFromString(e,"text/html"),o=Object.keys(a),r=(e=[]).concat.apply(e,t.body.querySelectorAll("*")),n=0,i=r.length;n<i;n++)!function(e){var t=r[e],e=t.nodeName.toLowerCase();if(!o.includes(e))return t.parentNode.removeChild(t);var n=(n=[]).concat.apply(n,t.attributes),i=[].concat(a["*"]||[],a[e]||[]);n.forEach(function(e){!function(e,t){var n=e.nodeName.toLowerCase();if(t.includes(n))return!Fe.has(n)||Boolean(He.test(e.nodeValue)||ze.test(e.nodeValue));for(var i=t.filter(function(e){return e instanceof RegExp}),a=0,o=i.length;a<o;a++)if(i[a].test(n))return 1}(e,i)&&t.removeAttribute(e.nodeName)})}(n);return t.body.innerHTML}var Ue,Ge=new RegExp("(^|\\s)bs-tooltip\\S+","g"),je=new Set(["sanitize","allowList","sanitizeFn"]),Ve={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},We={AUTO:"auto",TOP:"top",RIGHT:m?"left":"right",BOTTOM:"bottom",LEFT:m?"right":"left"},Qe={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Ye={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},A=(t(C,Ue=f),(A=C.prototype).enable=function(){this._isEnabled=!0},A.disable=function(){this._isEnabled=!1},A.toggleEnabled=function(){this._isEnabled=!this._isEnabled},A.toggle=function(e){this._isEnabled&&(e?((e=this._initializeOnDelegatedTarget(e))._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)):this.getTipElement().classList.contains("show")?this._leave(null,this):this._enter(null,this))},A.dispose=function(){clearTimeout(this._timeout),g.off(this._element,this.constructor.EVENT_KEY),g.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.parentNode&&this.tip.parentNode.removeChild(this.tip),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.config=null,this.tip=null,Ue.prototype.dispose.call(this)},A.show=function(){var e,t,n,i=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");this.isWithContent()&&this._isEnabled&&(e=g.trigger(this._element,this.constructor.Event.SHOW),t=(null===(t=function e(t){var n;return document.documentElement.attachShadow?"function"==typeof t.getRootNode?(n=t.getRootNode())instanceof ShadowRoot?n:null:t instanceof ShadowRoot?t:t.parentNode?e(t.parentNode):null:null}(this._element))?this._element.ownerDocument.documentElement:t).contains(this._element),!e.defaultPrevented)&&t&&(e=this.getTipElement(),t=H(this.constructor.NAME),e.setAttribute("id",t),this._element.setAttribute("aria-describedby",t),this.setContent(),this.config.animation&&e.classList.add("fade"),t="function"==typeof this.config.placement?this.config.placement.call(this,e,this._element):this.config.placement,t=this._getAttachment(t),this._addAttachmentClass(t),n=this._getContainer(),c(e,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||n.appendChild(e),g.trigger(this._element,this.constructor.Event.INSERTED),this._popper=D.createPopper(this._element,e,this._getPopperConfig(t)),e.classList.add("show"),(n="function"==typeof this.config.customClass?this.config.customClass():this.config.customClass)&&(t=e.classList).add.apply(t,n.split(" ")),"ontouchstart"in document.documentElement&&(e=[]).concat.apply(e,document.body.children).forEach(function(e){g.on(e,"mouseover",function(){})}),t=function(){var e=i._hoverState;i._hoverState=null,g.trigger(i._element,i.constructor.Event.SHOWN),"out"===e&&i._leave(null,i)},this.tip.classList.contains("fade")?(n=d(this.tip),g.one(this.tip,"transitionend",t),u(this.tip,n)):t())},A.hide=function(){var e,t,n,i=this;this._popper&&(e=this.getTipElement(),t=function(){"show"!==i._hoverState&&e.parentNode&&e.parentNode.removeChild(e),i._cleanTipClass(),i._element.removeAttribute("aria-describedby"),g.trigger(i._element,i.constructor.Event.HIDDEN),i._popper&&(i._popper.destroy(),i._popper=null)},g.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented||(e.classList.remove("show"),"ontouchstart"in document.documentElement&&(n=[]).concat.apply(n,document.body.children).forEach(function(e){return g.off(e,"mouseover",G)}),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this.tip.classList.contains("fade")?(n=d(e),g.one(e,"transitionend",t),u(e,n)):t(),this._hoverState=""))},A.update=function(){null!==this._popper&&this._popper.update()},A.isWithContent=function(){return Boolean(this.getTitle())},A.getTipElement=function(){var e;return this.tip||((e=document.createElement("div")).innerHTML=this.config.template,this.tip=e.children[0]),this.tip},A.setContent=function(){var e=this.getTipElement();this.setElementContent(_(".tooltip-inner",e),this.getTitle()),e.classList.remove("fade","show")},A.setElementContent=function(e,t){if(null!==e)return"object"==typeof t&&s(t)?(t.jquery&&(t=t[0]),void(this.config.html?t.parentNode!==e&&(e.innerHTML="",e.appendChild(t)):e.textContent=t.textContent)):void(this.config.html?(this.config.sanitize&&(t=qe(t,this.config.allowList,this.config.sanitizeFn)),e.innerHTML=t):e.textContent=t)},A.getTitle=function(){return this._element.getAttribute("data-bs-original-title")||("function"==typeof this.config.title?this.config.title.call(this._element):this.config.title)},A.updateAttachment=function(e){return"right"===e?"end":"left"===e?"start":e},A._initializeOnDelegatedTarget=function(e,t){var n=this.constructor.DATA_KEY;return(t=t||p(e.delegateTarget,n))||(t=new this.constructor(e.delegateTarget,this._getDelegateConfig()),c(e.delegateTarget,n,t)),t},A._getOffset=function(){var t=this,n=this.config.offset;return"string"==typeof n?n.split(",").map(function(e){return Number.parseInt(e,10)}):"function"==typeof n?function(e){return n(e,t._element)}:n},A._getPopperConfig=function(e){var t=this,e={placement:e,modifiers:[{name:"flip",options:{altBoundary:!0,fallbackPlacements:this.config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this.config.boundary}},{name:"arrow",options:{element:"."+this.constructor.NAME+"-arrow"}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(e){return t._handlePopperPlacementChange(e)}}],onFirstUpdate:function(e){e.options.placement!==e.placement&&t._handlePopperPlacementChange(e)}};return o({},e,"function"==typeof this.config.popperConfig?this.config.popperConfig(e):this.config.popperConfig)},A._addAttachmentClass=function(e){this.getTipElement().classList.add("bs-tooltip-"+this.updateAttachment(e))},A._getContainer=function(){return!1===this.config.container?document.body:s(this.config.container)?this.config.container:_(this.config.container)},A._getAttachment=function(e){return We[e.toUpperCase()]},A._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(e){var t;"click"===e?g.on(n._element,n.constructor.Event.CLICK,n.config.selector,function(e){return n.toggle(e)}):"manual"!==e&&(t="hover"===e?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,e="hover"===e?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT,g.on(n._element,t,n.config.selector,function(e){return n._enter(e)}),g.on(n._element,e,n.config.selector,function(e){return n._leave(e)}))}),this._hideModalHandler=function(){n._element&&n.hide()},g.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},A._fixTitle=function(){var e=this._element.getAttribute("title"),t=typeof this._element.getAttribute("data-bs-original-title");!e&&"string"==t||(this._element.setAttribute("data-bs-original-title",e||""),!e||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))},A._enter=function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusin"===e.type?"focus":"hover"]=!0),t.getTipElement().classList.contains("show")||"show"===t._hoverState?t._hoverState="show":(clearTimeout(t._timeout),t._hoverState="show",t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){"show"===t._hoverState&&t.show()},t.config.delay.show):t.show())},A._leave=function(e,t){t=this._initializeOnDelegatedTarget(e,t),e&&(t._activeTrigger["focusout"===e.type?"focus":"hover"]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},A._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},A._getConfig=function(e){var t=b.getDataAttributes(this._element);return Object.keys(t).forEach(function(e){je.has(e)&&delete t[e]}),e&&"object"==typeof e.container&&e.container.jquery&&(e.container=e.container[0]),"number"==typeof(e=o({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),a("tooltip",e,this.constructor.DefaultType),e.sanitize&&(e.template=qe(e.template,e.allowList,e.sanitizeFn)),e},A._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},A._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Ge);null!==e&&0<e.length&&e.map(function(e){return e.trim()}).forEach(function(e){return t.classList.remove(e)})},A._handlePopperPlacementChange=function(e){e=e.state;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))},C.jQueryInterface=function(n){return this.each(function(){var e=p(this,"bs.tooltip"),t="object"==typeof n&&n;if((e||!/dispose|hide/.test(n))&&(e=e||new C(this,t),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},e(C,null,[{key:"Default",get:function(){return Qe}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return Ye}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Ve}}]),C);function C(e,t){if(void 0===O)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(e=Ue.call(this,e)||this)._isEnabled=!0,e._timeout=0,e._hoverState="",e._activeTrigger={},e._popper=null,e.config=e._getConfig(t),e.tip=null,e._setListeners(),e}l("tooltip",A);var Ke,$e=new RegExp("(^|\\s)bs-popover\\S+","g"),Xe=o({},A.Default,{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Je=o({},A.DefaultType,{content:"(string|element|function)"}),Ze={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},R=(t(L,Ke=A),(R=L.prototype).isWithContent=function(){return this.getTitle()||this._getContent()},R.setContent=function(){var e=this.getTipElement(),t=(this.setElementContent(_(".popover-header",e),this.getTitle()),this._getContent());"function"==typeof t&&(t=t.call(this._element)),this.setElementContent(_(".popover-body",e),t),e.classList.remove("fade","show")},R._addAttachmentClass=function(e){this.getTipElement().classList.add("bs-popover-"+this.updateAttachment(e))},R._getContent=function(){return this._element.getAttribute("data-bs-content")||this.config.content},R._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match($e);null!==e&&0<e.length&&e.map(function(e){return e.trim()}).forEach(function(e){return t.classList.remove(e)})},L.jQueryInterface=function(n){return this.each(function(){var e=p(this,"bs.popover"),t="object"==typeof n?n:null;if((e||!/dispose|hide/.test(n))&&(e||(e=new L(this,t),c(this,"bs.popover",e)),"string"==typeof n)){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},e(L,null,[{key:"Default",get:function(){return Xe}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Ze}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Je}}]),L);function L(){return Ke.apply(this,arguments)||this}l("popover",R);var et,tt={offset:10,method:"auto",target:""},nt={offset:"number",method:"string",target:"(string|element)"},it=(t(P,et=f),(k=P.prototype).refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?e:this._config.method,a="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),T(this._selector).map(function(e){var e=z(e),t=e?_(e):null;if(t){var n=t.getBoundingClientRect();if(n.width||n.height)return[b[i](t).top+a,e]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},k.dispose=function(){et.prototype.dispose.call(this),g.off(this._scrollElement,".bs.scrollspy"),this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},k._getConfig=function(e){var t;return"string"!=typeof(e=o({},tt,"object"==typeof e&&e?e:{})).target&&s(e.target)&&((t=e.target.id)||(t=H("scrollspy"),e.target.id=t),e.target="#"+t),a("scrollspy",e,nt),e},k._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},k._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},k._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},k._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),n<=e){t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])},k._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-bs-target="'+t+'"],'+e+'[href="'+t+'"]'}),n=_(e.join(","));n.classList.contains("dropdown-item")?(_(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"),n.classList.add("active")):(n.classList.add("active"),function(){for(var e=[],t=n.parentNode;t&&t.nodeType===Node.ELEMENT_NODE&&3!==t.nodeType;)t.matches(".nav, .list-group")&&e.push(t),t=t.parentNode;return e}().forEach(function(e){ge(e,".nav-link, .list-group-item").forEach(function(e){return e.classList.add("active")}),ge(e,".nav-item").forEach(function(e){me(e,".nav-link").forEach(function(e){return e.classList.add("active")})})})),g.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})},k._clear=function(){T(this._selector).filter(function(e){return e.classList.contains("active")}).forEach(function(e){return e.classList.remove("active")})},P.jQueryInterface=function(t){return this.each(function(){var e=(e=p(this,"bs.scrollspy"))||new P(this,"object"==typeof t&&t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},e(P,null,[{key:"Default",get:function(){return tt}},{key:"DATA_KEY",get:function(){return"bs.scrollspy"}}]),P);function P(e,t){var n;return(n=et.call(this,e)||this)._scrollElement="BODY"===e.tagName?window:e,n._config=n._getConfig(t),n._selector=n._config.target+" .nav-link, "+n._config.target+" .list-group-item, "+n._config.target+" .dropdown-item",n._offsets=[],n._targets=[],n._activeTarget=null,n._scrollHeight=0,g.on(n._scrollElement,"scroll.bs.scrollspy",function(){return n._process()}),n.refresh(),n._process(),n}g.on(window,"load.bs.scrollspy.data-api",function(){T('[data-bs-spy="scroll"]').forEach(function(e){return new it(e,b.getDataAttributes(e))})}),l("scrollspy",it);t(x,at=f),(k=x.prototype).show=function(){var e,t,n,i,a=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled")||(e=r(this._element),(t=this._element.closest(".nav, .list-group"))&&(i="UL"===t.nodeName||"OL"===t.nodeName?":scope > li > .active":".active",n=(n=T(i,t))[n.length-1]),i=n?g.trigger(n,"hide.bs.tab",{relatedTarget:this._element}):null,g.trigger(this._element,"show.bs.tab",{relatedTarget:n}).defaultPrevented)||null!==i&&i.defaultPrevented||(this._activate(this._element,t),i=function(){g.trigger(n,"hidden.bs.tab",{relatedTarget:a._element}),g.trigger(a._element,"shown.bs.tab",{relatedTarget:n})},e?this._activate(e,e.parentNode,i):i())},k._activate=function(e,t,n){function i(){return a._transitionComplete(e,o,n)}var a=this,o=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?me(t,".active"):T(":scope > li > .active",t))[0],t=n&&o&&o.classList.contains("fade");o&&t?(t=d(o),o.classList.remove("show"),g.one(o,"transitionend",i),u(o,t)):i()},k._transitionComplete=function(e,t,n){var i;t&&(t.classList.remove("active"),(i=_(":scope > .dropdown-menu .active",t.parentNode))&&i.classList.remove("active"),"tab"===t.getAttribute("role"))&&t.setAttribute("aria-selected",!1),e.classList.add("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),h(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&e.parentNode.classList.contains("dropdown-menu")&&(e.closest(".dropdown")&&T(".dropdown-toggle").forEach(function(e){return e.classList.add("active")}),e.setAttribute("aria-expanded",!0)),n&&n()},x.jQueryInterface=function(t){return this.each(function(){var e=p(this,"bs.tab")||new x(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},e(x,null,[{key:"DATA_KEY",get:function(){return"bs.tab"}}]);var at,ot=x;function x(){return at.apply(this,arguments)||this}g.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(e){e.preventDefault(),(p(this,"bs.tab")||new ot(this)).show()}),l("tab",ot);var rt,k,st={animation:"boolean",autohide:"boolean",delay:"number"},lt={animation:!0,autohide:!0,delay:5e3},f=(t(I,rt=f),(k=I.prototype).show=function(){var e,t,n=this;g.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),e=function(){n._element.classList.remove("showing"),n._element.classList.add("show"),g.trigger(n._element,"shown.bs.toast"),n._config.autohide&&(n._timeout=setTimeout(function(){n.hide()},n._config.delay))},this._element.classList.remove("hide"),h(this._element),this._element.classList.add("showing"),this._config.animation?(t=d(this._element),g.one(this._element,"transitionend",e),u(this._element,t)):e())},k.hide=function(){var e,t,n=this;this._element.classList.contains("show")&&!g.trigger(this._element,"hide.bs.toast").defaultPrevented&&(e=function(){n._element.classList.add("hide"),g.trigger(n._element,"hidden.bs.toast")},this._element.classList.remove("show"),this._config.animation?(t=d(this._element),g.one(this._element,"transitionend",e),u(this._element,t)):e())},k.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),g.off(this._element,"click.dismiss.bs.toast"),rt.prototype.dispose.call(this),this._config=null},k._getConfig=function(e){return e=o({},lt,b.getDataAttributes(this._element),"object"==typeof e&&e?e:{}),a("toast",e,this.constructor.DefaultType),e},k._setListeners=function(){var e=this;g.on(this._element,"click.dismiss.bs.toast",'[data-bs-dismiss="toast"]',function(){return e.hide()})},k._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},I.jQueryInterface=function(t){return this.each(function(){var e=(e=p(this,"bs.toast"))||new I(this,"object"==typeof t&&t);if("string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t](this)}})},e(I,null,[{key:"DefaultType",get:function(){return st}},{key:"Default",get:function(){return lt}},{key:"DATA_KEY",get:function(){return"bs.toast"}}]),I);function I(e,t){return(e=rt.call(this,e)||this)._config=e._getConfig(t),e._timeout=null,e._setListeners(),e}return l("toast",f),{Alert:v,Button:ue,Carousel:Se,Collapse:Ne,Dropdown:w,Modal:Oe,Popover:R,ScrollSpy:it,Tab:ot,Toast:f,Tooltip:A}}),function(){window.NTSB=window.NTSB||{};class e{constructor(){}expression(){return""}}class n extends e{constructor({siteColumn:e,filterValue:t}){if(super(),!e)throw"siteColumn is a required field";if(!t)throw"filterValue is a required field";this.siteColumn=e,this.filterValue=t}expression(){return this.siteColumn+" eq '"+this.filterValue+"'"}}class i extends e{constructor({siteColumn:e,filterValue:t}){if(super(),!e)throw"siteColumn is a required field";if(!t)throw"filterValue is a required field";this.siteColumn=e,this.filterValue=t}expression(){return this.siteColumn+" ge  datetime'"+this.filterValue+"'"}}NTSB.GetEqualityContentFilter=({siteColumn:e,filterValue:t})=>new n({siteColumn:e,filterValue:t}),NTSB.GetDateGreaterThanOrEqualFilter=({siteColumn:e,filterValue:t})=>new i({siteColumn:e,filterValue:t});class l{constructor({serverRelativeURL:e,contentType:t,pageSize:n,orderBy:i,orderByAscending:a,filters:o,expand:r,list:s}){s=s||"Pages",NTSB.ArrayIsNullOrEmptyParameterValidator(e,"serverRelativeURL must not be empty or full of white space!"),e=NTSB.RemoveWhiteSpace(e),n=n||100,i=i||"Modified",this.currentPage=0,this.pages=[],e="/"+NTSB.RemoveLeadingAndTrailingForwardSlashes(e)+"/_api/web/Lists/"+s+"/items";this.pages[0]=e+"?$top="+n+"&$orderby="+i+(a?"":" desc")+"&$expand="+(r?"ContentType,File,"+r:"ContentType,File")+"&$filter=ContentType eq '"+t+"'"+(o&&0<o.length?o.reduce((e,t,n,i)=>e+t.expression()+(n<i.length-1?" and ":"")," and "):"")}sendRequest(){return new Promise((n,t)=>{var e=Math.min(this.pages.length-1,this.currentPage),e=this.pages[e];fetch(e,NTSB.FetchOptions).then(e=>e.json()).then(e=>{var t;e&&e.d&&e.d.__next&&(t=Math.min(this.pages.length+1,this.currentPage+1),this.pages[t]=e.d.__next,this.currentPage=t),n(e)}).catch(e=>{t(e)})})}previous(){return new Promise((t,n)=>{const i=Math.max(this.currentPage-1,0);var e=this.pages[i];fetch(e,NTSB.FetchOptions).then(e=>e.json()).then(e=>{this.currentPage=i,t(e)}).catch(e=>{n(e)})})}reset(){this.currentPage=0}getCurrentPage(){return this.currentPage}}NTSB.GetContentRequestManager=({serverRelativeURL:e,contentType:t,pageSize:n,orderBy:i,orderByAscending:a,filters:o,expand:r,list:s})=>new l({serverRelativeURL:e,contentType:t,pageSize:n,orderBy:i,orderByAscending:a,filters:o,expand:r,list:s})}(),function(){window.NTSB=window.NTSB||{};NTSB.CreateGoogleMaps=({mapElement:e,mapOptions:t})=>{if(NTSB.GoogleMapOptions=t||NTSB.GoogleMapOptions,NTSB.IsReady)return new class{constructor(e,t){t=t||NTSB.GoogleMapOptions;t.center||(t.center=new google.maps.LatLng(39.5,-98.35)),NTSB.GoogleMapID&&(t.mapId=NTSB.GoogleMapID),this.googleMap=new google.maps.Map(e,t)}addMarker(e){return e.map=this.googleMap,new google.maps.Marker(e)}centerMapCoord(e,t){this.googleMap.setCenter(new google.maps.LatLng(e,t))}centerMapStreetAddress(e){}removeMarker(e){e.SetMap(null)}}(e,t)},NTSB.GoogleMapsFence=!1,NTSB.GoogleMapsReady=(n,i)=>(NTSB.GoogleMapsAPIKey=n,NTSB.GoogleMapID=i,new Promise((e,t)=>{NTSB.GoogleMapsFence||(NTSB.ResolveFunc=e,NTSB.RejectFunc=t,(e=document.createElement("script")).src="https://maps.googleapis.com/maps/api/js?key="+n+(i?"&map_ids="+i:"")+"&callback=mapIsReady",e.async=!0,document.head.appendChild(e),NTSB.GoogleMapsFence=!0)})),NTSB.GetGoogleMapSettings=()=>new Promise((n,i)=>{fetch("/_api/web/AllProperties",NTSB.FetchOptions).then(e=>e.json()).then(e=>{var t=e.d.NTSB_x005f_GoogleMapsID,e=e.d.NTSB_x005f_GoogleMapsKey;NTSB.GoogleMapsReady(e,t).then(()=>n()).catch(e=>i(e))}).catch(e=>i(e))}),NTSB.GoogleMapOptions={zoom:4},NTSB.ResolveFunc=null,NTSB.RejectFunc=null}(),window.NTSB=window.NTSB||{},NTSB.CreateDetailsMap=({lat:e,long:t})=>{NTSB.MapsReady||(NTSB.USAMap=NTSB.CreateGoogleMaps({mapElement:NTSB.MainMapElement,mapOptions:{center:new google.maps.LatLng(e,t),zoom:7}}),(e=document.getElementById("nstsbalaska"))&&e.classList.add("invisible"),(t=document.getElementById("ntsbhawaii"))&&t.classList.add("invisible"),NTSB.MapsReady=!0)},NTSB.MarkMap=({lat:e,long:t,title:n})=>{NTSB.USAMap.addMarker({position:{lat:e,lng:t},title:n})},NTSB.InvestigativeDetailsPageLoad=()=>{NTSB.MainMapElement=document.getElementById("ntsbgooglemap"),NTSB.QueryCurrentPage().then(e=>{var t=NTSB.IsString(e.d.Geolocation_x0020_Latitude)?parseFloat(e.d.Geolocation_x0020_Latitude):e.d.Geolocation_x0020_Latitude,n=NTSB.IsString(e.d.Geolocation_x0020_Longitude)?parseFloat(e.d.Geolocation_x0020_Longitude):e.d.Geolocation_x0020_Longitude;NTSB.CreateDetailsMap({lat:t,long:n}),NTSB.MarkMap({lat:t,long:n,title:e.d.Title})}).catch(NTSB.ErrorHandler)},function(){window.NTSB=window.NTSB||{};class r{constructor({serverRelativeURL:e,pageSize:t,orderBy:n,orderByAscending:i,expand:a,list:o,modes:r}){o=o||"Reports",NTSB.ArrayIsNullOrEmptyParameterValidator(e,"serverRelativeURL must not be empty or full of white space!"),e=NTSB.RemoveWhiteSpace(e),t=t||10,n=n||"Report_x0020_Date_x0020_Adopted",this.currentPage=0,this.pages=[],e="/"+NTSB.RemoveLeadingAndTrailingForwardSlashes(e)+"/_api/web/Lists/"+o+"/items";this.pages[0]=e+"?$top="+t+"&$orderby="+n+(i?"":" desc")+"&$expand="+(a?"File,"+a:"File")+"&$filter="+(r&&0<r.length?r.reduce((e,t,n,i)=>e+t.expression()+(n<i.length-1?" or ":""),""):"")}sendRequest(){return new Promise((n,t)=>{var e=Math.min(this.pages.length-1,this.currentPage),e=this.pages[e];fetch(e,NTSB.FetchOptions).then(e=>e.json()).then(e=>{var t;e&&e.d&&e.d.__next&&(t=Math.min(this.pages.length+1,this.currentPage+1),this.pages[t]=e.d.__next,this.currentPage=t),n(e)}).catch(e=>{t(e)})})}previous(){return new Promise((t,n)=>{const i=Math.max(this.currentPage-1,0);var e=this.pages[i];fetch(e,NTSB.FetchOptions).then(e=>e.json()).then(e=>{this.currentPage=i,t(e)}).catch(e=>{n(e)})})}reset(){this.currentPage=0}getCurrentPage(){return this.currentPage}}NTSB.GetInvestigationReportRequestManager=({serverRelativeURL:e,orderBy:t,orderByAscending:n,expand:i,list:a,modes:o})=>new r({serverRelativeURL:e,orderBy:t,orderByAscending:n,expand:i,list:a,modes:o})}(),function(){window.NTSB=window.NTSB||{};class c{initializeModesFromQueryString(){this.mode=NTSB.GetQueryStringValue("mode")}buildFilters(){this.filters=[],this.mode&&this.filters.push(NTSB.GetEqualityContentFilter({siteColumn:"Mode",filterValue:this.mode}))}initializeContentQuery(){this.contentRequestManager=NTSB.GetInvestigationReportRequestManager({serverRelativeURL:"/investigations/AccidentReports/",modes:this.filters})}reload(e){NTSB.RequiredParameterValidator(results,"Investigation reports must be valid array"),this.reports=e,this.renderResults(),this.initializePaginationAction(),this.resetPagination()}initializePaginationAction(){this.paginateAction=NTSB.PaginateAction({contentRequestManager:this.contentRequestManager,pageSize:this.pageSize,reloadAction:e=>this.reload(e),onStart:NTSB.ShowLoadingIndicator,onComplete:NTSB.HideLoadingIndicator}),NTSB.PaginationManager.setNextClickAction(()=>this.paginateAction.next()),NTSB.PaginationManager.setHomeClickAction(()=>this.paginateAction.home()),NTSB.PaginationManager.setPreviousClickAction(()=>this.paginateAction.previous())}load(){NTSB.ShowLoadingIndicator(),this.initializeContentQuery(),this.paginateAction=NTSB.PaginateAction({contentRequestManager:this.contentRequestManager,pageSize:this.pageSize,reloadAction:e=>{this.reports=e,this.renderResults()},onStart:NTSB.ShowLoadingIndicator,onComplete:NTSB.HideLoadingIndicator}),this.contentRequestManager.sendRequest().then(e=>{e.d=e.d||{},e.d.results=e.d.results||[],this.reports=e.d.results,e.d.__next&&NTSB.PaginationManager.enableNext(),NTSB.PaginationManager.setPageNumberRange(this.start,this.start+e.d.results.length),this.renderResults(),NTSB.HideLoadingIndicator()}).catch(e=>this.errorHandler(e))}renderResults(){this.containerElement.innerHTML="",this.reports.forEach(e=>{this.containerElement.appendChild(this.renderer.render(e))})}resetPagination(){this.start=0,(!this.reports||this.reports.length<this.pageSize)&&NTSB.PaginationManager.disableNext(),NTSB.PaginationManager.disableHome(),NTSB.PaginationManager.disablePrevious(),NTSB.PaginationManager.setPageNumberRange(this.start,this.reports?this.reports.length:0)}modeChange(){this.buildFilters(),this.initializeContentQuery(),this.load(),this.resetPagination()}modeButton(e,t){e.onclick=()=>{this.filterButtons.forEach(e=>e.classList.remove("active")),this.mode===t?this.mode=void 0:(this.mode=t,e.classList.add("active")),this.modeChange()},this.mode===t&&(e.classList.add("active"),this.modeDropdown.value=this.mode)}constructor({containerElement:e,modeDropdown:t,pageSize:n,aviationButton:i,hazMatButton:a,highwayButton:o,marineButton:r,pipelineButton:s,railroadButton:l}){NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),NTSB.RequiredParameterValidator(t,"Must provide a Mode Dropdown Element"),this.initializeModesFromQueryString(),this.containerElement=e,this.modeDropdown=t,this.renderer=NTSB.GetInvestigationReportRenderer(),this.pageSize=n||10,this.start=0,this.aviationButton=i,this.modeButton(this.aviationButton,"Aviation"),this.hazMatButton=a,this.modeButton(this.hazMatButton,"Hazmat"),this.highwayButton=o,this.modeButton(this.highwayButton,"Highway"),this.marineButton=r,this.modeButton(this.marineButton,"Marine"),this.pipelineButton=s,this.modeButton(this.pipelineButton,"Pipeline"),this.railroadButton=l,this.modeButton(this.railroadButton,"Railroad"),this.filterButtons=[i,a,o,r,s,l],this.initializeModesFromQueryString(),this.buildFilters(),this.initializeContentQuery(),this.initializePaginationAction(),this.modeDropdown.onchange=()=>{this.mode=this.modeDropdown.value,this.modeChange()},this.load(),this.resetPagination()}}NTSB.GetInvestigationReports=({containerElement:e,modeDropdown:t,pageSize:n,aviationButton:i,hazMatButton:a,highwayButton:o,marineButton:r,pipelineButton:s,railroadButton:l})=>new c({containerElement:e,modeDropdown:t,pageSize:n,aviationButton:i,hazMatButton:a,highwayButton:o,marineButton:r,pipelineButton:s,railroadButton:l}),NTSB.GetDefaultInvestigationReportsManager=()=>{try{var e=document.getElementById("investigation_reports"),t=document.getElementById("mode_dropdown"),n=document.getElementById("btnaviation"),i=document.getElementById("btnhazmat"),a=document.getElementById("btnhighway"),o=document.getElementById("btnmarine"),r=document.getElementById("btnpipeline"),s=document.getElementById("btnrailroad");return NTSB.GetInvestigationReports({containerElement:e,modeDropdown:t,aviationButton:n,hazMatButton:i,highwayButton:a,marineButton:o,pipelineButton:r,railroadButton:s})}catch(e){console.error(e)}}}(),function(){window.NTSB=window.NTSB||{},NTSB.AlaskaLatLong={lat:66.160507,long:-153.369141},NTSB.HawaiiLatLong={lat:19.741755,long:-155.844437},NTSB.InvestigationsOrderBy="Accident_x0020_Date",NTSB.InvestigationsOrderByAscending=!1,NTSB.InvestigationsContentType="NTSBInvestigationDetail",NTSB.InvestigationsPageSize=20;class l{reloadInvestigations(e){NTSB.RequiredParameterValidator(e,"Investigations results must be valid array"),this.investigations=e,this.createMarkers(),this.populateInvestigations()}initializeContentQuery(){this.contentRequestManager=NTSB.GetContentRequestManager({serverRelativeURL:"/investigations/",contentType:NTSB.InvestigationsContentType,pageSize:NTSB.InvestigationsPageSize,orderBy:NTSB.InvestigationsOrderBy,orderByAscending:NTSB.InvestigationsOrderByAscending,filters:this.filters})}convertStatusText(e){return"Closed"===e?"Completed":e}buildFilters(){this.filters=[],this.mode&&this.filters.push(NTSB.GetEqualityContentFilter({siteColumn:"Mode",filterValue:this.mode})),this.status&&this.filters.push(NTSB.GetEqualityContentFilter({siteColumn:"NSTB_x0020_Investigation_x0020_Status",filterValue:this.status}))}updateStatus(e){this.status="All"===e?void 0:e,this.investigationsHeader.textContent=this.convertStatusText(e)+" Investigations",this.buildFilters()}allInvestigations(){this.statusDropdown.value="All",this.updateStatus(this.statusDropdown.value),this.initializeContentQuery(),this.load(),this.resetPagination()}handleStatusChange(){this.updateStatus(this.statusDropdown.value),this.initializeContentQuery(),this.load(),this.resetPagination()}static removeMarkersFromMap(e){e.forEach(e=>e.marker.setMap(null))}createInvestigationMarkers(e,o){return e.filter(e=>{var t="string"==typeof e.Geolocation_x0020_Latitude?parseFloat(e.Geolocation_x0020_Latitude):e.Geolocation_x0020_Latitude,n="string"==typeof e.Geolocation_x0020_Longitude?parseFloat(e.Geolocation_x0020_Longitude):e.Geolocation_x0020_Longitude;return e.Geolocation_x0020_Latitude&&e.Geolocation_x0020_Longitude&&NaN!==t&&NaN!==n}).map(e=>{var t=Number("string"==typeof e.Geolocation_x0020_Latitude?parseFloat(e.Geolocation_x0020_Latitude):e.Geolocation_x0020_Latitude),n=Number("string"==typeof e.Geolocation_x0020_Longitude?parseFloat(e.Geolocation_x0020_Longitude):e.Geolocation_x0020_Longitude),i=e.Mode?NTSB.Icons[e.Mode.toLowerCase()]:e.NTSBOffice?NTSB.OldIcons[e.NTSBOffice]:void 0,a=o.addMarker({icon:{scaledSize:new google.maps.Size(33,33),url:i},position:{lat:t,lng:n},title:e.Title});return a.contentString="<div role='dialog' class='tooltip-modal'><div class='modal-content'><div class='modal-header'><h5 class='modal-title'>"+e.Title+"</h5><button id='mapinfowindow' type='button' class='close' data-dismiss='modal' aria-label='Close' onclick='NTSB.CloseMapInfoWindow()'><span aria-hidden='true'>&times;</span></button></div><div class='modal-body'>"+(e.PublishingPageContent?"<p>"+e.PublishingPageContent+"</p>":"")+"<p class='align-right'><a href='"+(e.File?e.File.ServerRelativeUrl:"")+"' class='link-more'>Read More</a></p></div></div></div>",a.addListener("click",()=>{NTSB.MapInfoWindow.setContent(a.contentString),NTSB.MapInfoWindow.open(o,a)}),{investigation:e,marker:a}})}constructor({containerElement:e,mapElement:t,alaskaMapElement:n,hawaiiMapElement:i,filterButtons:a,statusDropdown:o,modeDropdown:r,investigationsHeader:s}){NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),NTSB.RequiredParameterValidator(t,"Must Provide a Map Element"),NTSB.ArrayIsNullOrEmptyParameterValidator(a,"Must Provide Filter Buttons"),NTSB.RequiredParameterValidator(o,"Must Provide status dropdown"),NTSB.RequiredParameterValidator(r,"Must Provide mode dropdown"),NTSB.RequiredParameterValidator(s,"Must Provide accident header!"),this.investigationsHeader=s,this.containerElement=e,this.mainMapElement=t,this.alaskaMapElement=n,this.hawaiiMapElement=i,this.filterButtons=a,this.mode=this.status=void 0,this.start=0,this.investigations=null,this.usaMapInvestigations=[],this.hawaiiMapInvestigations=[],this.alaskaMapInvestigations=[],this.mapsReady=!1,this.renderer=NTSB.GetInvestigationRenderer(),this.statusDropdown=o,this.modeDropdown=r,NTSB.PaginationManager.setNextClickAction(()=>this.paginateAction.next()),NTSB.PaginationManager.setHomeClickAction(()=>this.paginateAction.home()),NTSB.PaginationManager.setPreviousClickAction(()=>this.paginateAction.previous()),this.statusDropdown.onchange=()=>this.handleStatusChange(),this.modeDropdown.onchange=()=>this.filterButtonHelper("allbutton"===this.modeDropdown.value?void 0:r.options[r.selectedIndex].text)}clearActiveStyle(){this.filterButtons.forEach(e=>e.classList.remove(l.activeClassName))}setFilter(e){this.mode=e,this.buildFilters(),this.initializeContentQuery(),this.resetPagination()}clearMap(){l.removeMarkersFromMap(this.usaMapInvestigations),l.removeMarkersFromMap(this.alaskaMapInvestigations),l.removeMarkersFromMap(this.hawaiiMapInvestigations),this.usaMapInvestigations=[],this.alaskaMapInvestigations=[],this.hawaiiMapInvestigations=[]}errorHandler(e){NTSB.ErrorHandler(e),NTSB.HideLoadingIndicator()}load(){NTSB.ShowLoadingIndicator(),this.initializeContentQuery(),this.paginateAction=NTSB.PaginateAction({contentRequestManager:this.contentRequestManager,pageSize:NTSB.InvestigationsPageSize,reloadAction:e=>this.reloadInvestigations(e),onStart:NTSB.ShowLoadingIndicator,onComplete:NTSB.HideLoadingIndicator}),this.contentRequestManager.sendRequest().then(e=>{e.d=e.d||{},e.d.results=e.d.results||[],this.investigations=e.d.results,this.createMaps(),this.createMarkers(),this.populateInvestigations(),e.d.__next&&NTSB.PaginationManager.enableNext(),NTSB.PaginationManager.setPageNumberRange(this.start,this.start+e.d.results.length),NTSB.HideLoadingIndicator()}).catch(e=>this.errorHandler(e))}initialLoad(){this.handleStatusChange(),this.load(),NTSB.HideLoadingIndicator()}createMaps(){NTSB.MapInfoWindow||(NTSB.MapInfoWindow=new google.maps.InfoWindow),this.mapsReady||(this.usaMap=NTSB.CreateGoogleMaps({mapElement:this.mainMapElement}),this.alaskaMap=NTSB.CreateGoogleMaps({mapElement:this.alaskaMapElement,mapOptions:{center:new google.maps.LatLng(NTSB.AlaskaLatLong.lat,NTSB.AlaskaLatLong.long),zoom:3,mapTypeId:google.maps.MapTypeId.ROADMAP}}),this.hawaiiMap=NTSB.CreateGoogleMaps({mapElement:this.hawaiiMapElement,mapOptions:{center:new google.maps.LatLng(NTSB.HawaiiLatLong.lat,NTSB.HawaiiLatLong.long),zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP}}),google.maps.event.addListener(this.usaMap.googleMap,"click",function(){NTSB.MapInfoWindow.close()}),google.maps.event.addListener(this.alaskaMap.googleMap,"click",function(){NTSB.MapInfoWindow.close()}),google.maps.event.addListener(this.hawaiiMap.googleMap,"click",function(){NTSB.MapInfoWindow.close()}),this.mapsReady=!0)}createMarkers(){this.clearMap(),this.usaMapInvestigations=this.createInvestigationMarkers(this.investigations,this.usaMap),this.hawaiiMapInvestigations=this.createInvestigationMarkers(this.investigations,this.hawaiiMap),this.alaskaMapInvestigations=this.createInvestigationMarkers(this.investigations,this.alaskaMap)}populateInvestigations(){this.containerElement.innerHTML="",this.investigations.forEach(e=>this.containerElement.appendChild(this.renderer.render(e)))}filterButtonHelper(e){this.clearActiveStyle(),this.setFilter(e),this.resetPagination(),this.load()}resetPagination(){this.start=0,(!this.investigations||this.investigations.length<this.pageSize)&&NTSB.PaginationManager.disableNext(),NTSB.PaginationManager.disableHome(),NTSB.PaginationManager.disablePrevious(),NTSB.PaginationManager.setPageNumberRange(this.start,this.investigations?this.investigations.length:0)}}NTSB.GetInvestigationManager=({containerElement:e,mapElement:t,alaskaMapElement:n,hawaiiMapElement:i,filterButtons:a,statusDropdown:o,modeDropdown:r,investigationsHeader:s})=>new l({containerElement:e,mapElement:t,alaskaMapElement:n,hawaiiMapElement:i,filterButtons:a,statusDropdown:o,modeDropdown:r,investigationsHeader:s}),NTSB.InvestigationManager=null,NTSB.MapInfoWindow=null,NTSB.CloseMapInfoWindow=()=>{NTSB.MapInfoWindow&&NTSB.MapInfoWindow.close()},NTSB.InvestigationFilterButtonHelper=(e,t)=>{const n=document.getElementById(e);return n&&(n.onclick=()=>(NTSB.InvestigationManager.filterButtonHelper(t),n.classList.add(NTSB.ActiveClassName),!1)),n}}(),$(document).ready(function(){$("#mobile-MenuToggle").click(function(e){e.preventDefault();var t,n,e=$(this),i=$("#mobile-MenuArea");e.hasClass("closed")?($("body").css("overflow-y","hidden"),openNavigation(e,i)):(0!==$("#mobile-MenuArea .navbar-nav").find(".dropdown-toggle.is-active").length&&(n=(t=$(".is-active")).next(".dropdown-menu"),t.removeClass("is-active"),n.slideUp("slow",function(){$(this).removeClass("display-block")})),closeNavigation(e,i),$("body").css("overflow-y","visible"))}),$("#mobile-MenuArea .dropdown-toggle").click(function(e){e.preventDefault();var t,n,i,a,e=$(this),o=e.next(".dropdown-menu");0!==$("#mobile-MenuArea .navbar-nav").find(".dropdown-toggle.is-active").length?$(this).hasClass("is-active")?closeDropdown(e,o):(n=(t=$(".is-active")).next(".dropdown-menu"),a=(i=$(this)).next(".dropdown-menu"),t.removeClass("is-active"),n.slideUp("slow",function(){$(this).removeClass("display-block")}),i.addClass("is-active"),a.slideDown("slow",function(){$(this).addClass("display-block")})):openDropdown(e,o)}),openNavigation=function(e,t){e.addClass("open").removeClass("closed").attr("aria-expanded","true"),t.addClass("open")},closeNavigation=function(e,t){e.addClass("closed").removeClass("open").attr("aria-expanded","false"),t.removeClass("open")},openDropdown=function(e,t){e.addClass("is-active"),t.slideDown("slow",function(){$(this).addClass("display-block")})},closeDropdown=function(e,t){e.removeClass("is-active"),t.slideUp("slow",function(){$(this).removeClass("display-block")})}}),jQuery(function(e){e(".navbar .dropdown").hover(function(){e(this).find(".dropdown-menu").first().stop(!0,!0).delay(250).slideDown()},function(){e(this).find(".dropdown-menu").first().stop(!0,!0).delay(100).slideUp()}),e(".navbar .dropdown > a").click(function(){location.href=this.href,console.log("click")})}),function(){window.NTSB=window.NTSB||{};class o{constructor({contentRequestManager:e,pageSize:t,reloadAction:n,onStart:i,onComplete:a}){NTSB.RequiredParameterValidator(e,"Must provide Content Request Manager"),NTSB.RequiredParameterValidator(t,"Must provide Page Size "),NTSB.RequiredParameterValidator(n,"Must provide Reload Action"),NTSB.RequiredParameterValidator(i,"Must provide On Start Action"),NTSB.RequiredParameterValidator(a,"Must provide On Complete Action"),this.contentRequestManager=e,this.pageSize=t,this.reloadAction=n,this.start=0,this.onStart=i,this.onComplete=a}previous(){return this.onStart(),NTSB.PaginationManager.disablePrevious(),this.contentRequestManager.previous().then(e=>{var t=this.contentRequestManager.getCurrentPage();e.d=e.d||{},e.d.results=e.d.results||[],this.reloadAction(e.d.results);let n=e.d.results.length;0===t?this.start=0:(this.start=Math.ceil(this.start-this.pageSize,0),n=this.start+e.d.results.length),NTSB.PaginationManager.setPageNumberRange(this.start,n),0!==t?(NTSB.PaginationManager.enablePrevious(),NTSB.PaginationManager.enableHome()):NTSB.PaginationManager.disablePrevious(),e.d.__next?NTSB.PaginationManager.enableNext():NTSB.PaginationManager.disableNext(),this.onComplete()}).catch(NTSB.ErrorHandler),!1}next(){return this.onStart(),NTSB.PaginationManager.disableNext(),this.contentRequestManager.sendRequest().then(e=>{e.d=e.d||{},e.d.results=e.d.results||[],this.reloadAction(e.d.results),this.start=this.start+this.pageSize;var t=this.start+e.d.results.length;NTSB.PaginationManager.setPageNumberRange(this.start,t),NTSB.PaginationManager.enablePrevious(),NTSB.PaginationManager.enableHome(),e.d.__next?NTSB.PaginationManager.enableNext():NTSB.PaginationManager.disableNext(),this.onComplete()}).catch(NTSB.ErrorHandler),!1}home(){return this.onStart(),this.contentRequestManager.reset(),this.start=0,this.contentRequestManager.sendRequest().then(e=>{e.d=e.d||{},e.d.results=e.d.results||[],this.reloadAction(e.d.results);var t=this.start+e.d.results.length;NTSB.PaginationManager.setPageNumberRange(this.start,t),NTSB.PaginationManager.disablePrevious(),NTSB.PaginationManager.disableHome(),e.d.__next?NTSB.PaginationManager.enableNext():NTSB.PaginationManager.disableNext(),this.onComplete()}).catch(NTSB.ErrorHandler),!1}}NTSB.PaginateAction=({contentRequestManager:e,pageSize:t,reloadAction:n,onStart:i,onComplete:a})=>new o({contentRequestManager:e,pageSize:t,reloadAction:n,onStart:i,onComplete:a})}(),function(){window.NTSB=window.NTSB||{};class a{constructor({button:e,linkItem:t}){NTSB.RequiredParameterValidator(e,"Must provide button"),NTSB.RequiredParameterValidator(t,"Must provide linkItem"),this.button=e,this.linkItem=t}disable(){this.linkItem.classList.add("disabled")}enable(){this.linkItem.classList.remove("disabled")}setClickAction(e){this.button.onclick=e}}class o{constructor({home:e,next:t,previous:n,pageNumberItem:i}){NTSB.RequiredParameterValidator(e,"Must provide home button group"),NTSB.RequiredParameterValidator(t,"Must provide next button group"),NTSB.RequiredParameterValidator(n,"Must provide previous button group"),NTSB.RequiredParameterValidator(i,"Must provide page number list item"),this.home=new a({button:e.button,linkItem:e.linkItem}),this.next=new a({button:t.button,linkItem:t.linkItem}),this.previous=new a({button:n.button,linkItem:n.linkItem}),this.pageNumberItem=i}hide(){var e=document.getElementById("pagination_ctrl");e&&NTSB.Hide(e)}show(){var e=document.getElementById("pagination_ctrl");e&&NTSB.Show(e)}setPageNumberRange(e,t){this.pageNumberItem.innerText=e+1+"-"+t}disableHome(){this.home.disable()}enableHome(){this.home.enable()}setHomeClickAction(e){this.home.setClickAction(e)}disableNext(){this.next.disable()}enableNext(){this.next.enable()}setNextClickAction(e){this.next.setClickAction(e)}disablePrevious(){this.previous.disable()}enablePrevious(){this.previous.enable()}setPreviousClickAction(e){this.previous.setClickAction(e)}}NTSB.CreatePaginationManager=({home:e,next:t,previous:n,pageNumberItem:i})=>{NTSB.PaginationManager=new o({home:{button:e.button,linkItem:e.linkItem},next:{button:t.button,linkItem:t.linkItem},previous:{button:n.button,linkItem:n.linkItem},pageNumberItem:i})},NTSB.PaginationManager=null}(),window.onload=function(){handlePrinting()},function(){window.NTSB=window.NTSB||{};class e{render(e){var t=document.createElement("span");return t.className="invisible",t.innerText=e.toString(),t}}class t extends e{constructor(){super()}render(e){var t=new Date(e.Report_x0020_Date_x0020_Adopted),n=document.createElement("div"),i=(n.className="block",document.createElement("div")),a=(i.className="desc",document.createElement("p")),o=document.createElement("a"),o=(o.innerText=e.Title,o.href=e.File?e.File.ServerRelativeUrl:"#",a.appendChild(o),document.createElement("p")),r=(o.className="location",document.createElement("span")),r=(r.innerText="NTSB Office",r.className="title",o.appendChild(r),document.createTextNode(e.NTSBOffice||"")),r=(o.appendChild(r),i.appendChild(a),i.appendChild(o),document.createElement("div")),a=(r.className="data",document.createElement("span")),o=(a.className="title",a.innerText="Report Date:",r.appendChild(a),document.createTextNode(t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear())),a=(r.appendChild(o),i.appendChild(r),n.appendChild(i),document.createElement("div")),t=(a.className="download",document.createElement("p")),o=document.createElement("a"),r=document.createElement("i");return r.className="fas fa-file-pdf",o.appendChild(r),o.href=e.FileURL&&e.FileURL.Url?e.FileURL.Url:"#",t.appendChild(o),a.appendChild(t),n.appendChild(a),n}}class n extends e{constructor(){super()}optionalContentElement(e){return null}render(e){var t=new Date(e.AdvocacyDate),n=document.createElement("div"),i=(n.className="event-item",document.createElement("div")),a=(i.className="calendar",document.createElement("div")),o=(a.className="day",document.createElement("div")),r=(o.className="month",o.innerText=NTSB.GetMonth(t.getMonth()),document.createElement("div")),s=(r.className="day",r.innerText=t.getDate().toLocaleString("en",{minimumIntegerDigits:2}),document.createElement("div")),t=(s.className="year",s.innerText=t.getFullYear().toString(),a.appendChild(o),a.appendChild(r),a.appendChild(s),i.appendChild(a),n.appendChild(i),document.createElement("div")),o=(t.className="content",document.createElement("p")),r=(o.className="faux-title header-four",document.createElement("span")),s=(r.className="type",r.innerText=e.AdvocacyType+":",document.createElement("a")),a=(s.href=e.File?e.File.ServerRelativeUrl:"#",s.innerText=e.Title,o.appendChild(r),o.appendChild(s),t.appendChild(o),this.optionalContentElement(e));return a&&t.appendChild(a),n.appendChild(t),n}}class i extends e{constructor(){super()}render(e){var t=new Date(e.Accident_x0020_Date),n=document.createElement("div"),i=(n.className="block",document.createElement("div")),a=(i.className="desc",document.createElement("p")),o=document.createElement("a"),o=(o.href=e.File?e.File.ServerRelativeUrl:"#",o.innerText=e.Title,a.appendChild(o),document.createElement("p")),t=(o.className="title",o.innerText=NTSB.MDYShortFormat(t)+" - "+(e.Accident_x0020_Location_x0020__x002d__x0020_City||"")+", "+(e.Accident_x0020_Location_x0020__x002d__x0020_State||""),i.appendChild(a),i.appendChild(o),n.appendChild(i),document.createElement("div")),a=(t.className="stats",document.createElement("p")),o=document.createElement("span"),i=(o.className="title",o.innerText=e.Mode,a.appendChild(o),t.appendChild(a),document.createElement("p"));return i.innerText="Closed"===e.NSTB_x0020_Investigation_x0020_Status?"Completed":e.NSTB_x0020_Investigation_x0020_Status,t.appendChild(i),n.appendChild(t),n}}class a extends n{constructor(){super()}optionalContentElement(e){var t=document.createElement("p");return t.innerHTML="by "+e.BoardMemberName,t}}class o extends n{constructor(){super()}optionalContentElement(e){var t=document.createElement("p");return t.innerHTML="by "+e.ContentContributor,t}}class r extends e{constructor(){super()}render(e){var t=null!=e.File&&null!=e.File,n=e.NTSBSafetyAlertNumber||(t?e.File.Name.replace(".pdf","").replace("_","-"):"Safety Alert Number field is required!"),i=document.createElement("div"),a=(i.className="block",document.createElement("div")),o=(a.className="desc",document.createElement("p")),r=document.createElement("a"),t=(r.href=t?e.File.ServerRelativeUrl:"#",document.createTextNode(e.Title||"Title field is required!")),t=(r.appendChild(t),o.appendChild(r),document.createElement("p")),r=(t.className="sa-number",document.createTextNode(n));return t.appendChild(r),a.appendChild(o),a.appendChild(t),i.appendChild(a),e.YouTubeVideoURL&&e.YouTubeVideoURL.Url&&((n=document.createElement("div")).className="download",r=document.createElement("p"),(o=document.createElement("a")).href=e.YouTubeVideoURL.Url,(t=document.createElement("i")).className="fas fa-video",o.appendChild(t),r.appendChild(o),n.appendChild(r),i.appendChild(n)),i}}class s extends e{constructor(){super()}render(e){var t=new Date(e.Event_x0020_StartDate),n=t.getDate(),i=t.getFullYear(),a=NTSB.GetMonthAbbreviation(t.getMonth()),o=NTSB.GetDayOfTheWeekAbbrev(t.getDay()),r=t.getMinutes().toString().padStart(2,"0"),t=t.getHours(),s=document.createElement("div"),l=(s.className="event-item",document.createElement("div")),c=(l.className="calendar",document.createElement("div")),d=(c.className="day",document.createElement("div")),a=(d.className="month",d.innerText=a,c.appendChild(d),document.createElement("div")),d=(a.className="day",a.innerText=n,c.appendChild(a),document.createElement("div")),n=(d.className="year",d.innerText=i,c.appendChild(d),l.appendChild(c),s.appendChild(l),document.createElement("div")),a=(n.className="content",document.createElement("p")),i=(a.className="faux-title header-four",document.createElement("a")),d=(i.href=e.File?e.File.ServerRelativeUrl:"#",i.innerText=e.Title,a.appendChild(i),document.createElement("p"));return d.innerText=o+" "+t+":"+r,n.appendChild(a),n.appendChild(d),s.appendChild(n),s}}class l extends e{constructor(){super()}render(e){var t=Boolean(e.Accident_x0020_Date),n=new Date(e.Accident_x0020_Date),i=new Date(e.Report_x0020_Date_x0020_Adopted),a=document.createElement("div"),o=1===e.NTSBAccidentID.split(",").length,r=(a.className="block",document.createElement("div")),s=(r.className="desc",document.createElement("p")),l=o?document.createElement("a"):document.createElement("span"),o=(o&&(l.href=e.NTSBAccidentID?"/investigations/Pages/"+e.NTSBAccidentID+".aspx":"#"),l.appendChild(document.createTextNode(e.Title)),s.appendChild(l),document.createElement("p")),l=(o.className="location",document.createElement("span")),c=(l.className="title",Boolean(e.Accident_x0020_Location_x0020__x002d__x0020_City)||Boolean(e.Accident_x0020_Location_x0020__x002d__x0020_State)),c=(l.appendChild(c?document.createTextNode((e.Accident_x0020_Location_x0020__x002d__x0020_City||"City not available")+", "+(e.Accident_x0020_Location_x0020__x002d__x0020_State||"State not available")):document.createTextNode("No location available.")),o.appendChild(l),document.createElement("p")),l=(c.className="data",document.createElement("span")),l=(l.className="title",l.appendChild(document.createTextNode("Accident Date: ")),c.appendChild(l),document.createTextNode(t?NTSB.MDYShortFormat(n):"N/A")),t=(c.appendChild(l),c.appendChild(document.createElement("br")),document.createElement("span")),n=(t.className="title",t.appendChild(document.createTextNode("Report Date: ")),c.appendChild(t),document.createTextNode(NTSB.MDYShortFormat(i))),l=(c.appendChild(n),document.createElement("p")),t=(l.className="report",document.createElement("span")),i=(t.className="title",t.appendChild(document.createTextNode("Report Number: ")),l.appendChild(t),l.appendChild(document.createTextNode(e.NTSBReportNumber)),r.appendChild(s),r.appendChild(o),r.appendChild(c),r.appendChild(l),a.appendChild(r),document.createElement("div")),n=(i.className="download",document.createElement("p")),t=document.createElement("a"),s=(t.href=e.File?e.File.ServerRelativeUrl:"#",document.createElement("i"));return s.className="fas fa-file-pdf",s.setAttribute("aria-hidden","true"),t.appendChild(s),n.appendChild(t),i.appendChild(n),a.appendChild(i),a}}NTSB.GetAdvocayDetailRenderer=()=>new o,NTSB.GetTestimonyDetailRenderer=()=>new a,NTSB.GetBoardMemberAdvocacyRenderer=()=>new n,NTSB.GetInvestigationRenderer=()=>new i,NTSB.GetSafetyResearchRenderer=()=>new t,NTSB.GetSafetyAlertRenderer=()=>new r,NTSB.GetTrainingCenterRenderer=()=>new s,NTSB.GetInvestigationReportRenderer=()=>new l}(),function(){window.NTSB=window.NTSB||{};class t{createSafetyAlertsManager(){this.alertsManager=NTSB.SafetyAlertsManager({containerElement:this.containerElement})}constructor({containerElement:e}){NTSB.RequiredParameterValidator(e,"Must provide container element"),this.containerElement=e,this.createSafetyAlertsManager()}load(){this.alertsManager.load()}filterAlerts(e){this.alertsManager.filterButtonHelper(e)}}function n(e,t){e=document.getElementById(e);e&&(e.onclick=()=>(NTSB.SafetyAlertsLandingRollupManager.filterAlerts(t),!1))}NTSB.SafetyAlertsLandingRollupPageLoad=()=>{var e=document.getElementById("safetyAlerts");e&&(NTSB.SafetyAlertsLandingRollupManager=new t({containerElement:e}),NTSB.SafetyAlertsLandingRollupManager.load()),NTSB.SafetyAlertsLandingRollupManager&&(n("btnaviation","Aviation"),n("btnhazmat","Hazardous Materials"),n("btnhighway","Highway"),n("btnmarine","Marine"),n("btnpipeline","Pipeline"),n("btnrailroad","Railroad"),e=document.getElementById("btnall"))&&(e.onclick=()=>NTSB.SafetyAlertsLandingRollupManager.filterAlerts(void 0))}}(),function(){window.NTSB=window.NTSB||{},NTSB.SafetyAlertsServerRelativeURL="/Advocacy/safety-alerts",NTSB.SafetyAlertsContentType="NTSB Safety Alert Document",NTSB.SafetyAlertsPageSize=100,NTSB.SafetyAlertsOrderBy="Mode",NTSB.SafetyAlertsOrderByAscending=!0;class t{buildFilters(){this.filters=[],this.mode&&this.filters.push(NTSB.GetEqualityContentFilter({siteColumn:"Mode",filterValue:this.mode}))}reloadAlerts(e){NTSB.RequiredParameterValidator(e,"results must be valid array"),this.alerts=e,this.populate()}initializeContentQuery(){this.contentRequestManager=NTSB.GetContentRequestManager({serverRelativeURL:NTSB.SafetyAlertsServerRelativeURL,contentType:NTSB.SafetyAlertsContentType,pageSize:NTSB.SafetyAlertsPageSize,orderBy:NTSB.SafetyAlertsOrderBy,orderByAscending:NTSB.SafetyAlertsOrderByAscending,list:"Documents",filters:this.filters})}renderModeSubGroup(e,t){var n=document.createElement("h3"),e=document.createTextNode(e);n.appendChild(e),this.containerElement.appendChild(n);const i=document.createElement("div");i.className="block-group filtering",t.forEach(e=>i.appendChild(this.renderer.render(e))),this.containerElement.appendChild(i)}renderGroup(e,t){var n=document.createElement("h2"),e=document.createTextNode(e+" Safety");n.appendChild(e),this.containerElement.appendChild(n);for(const a in t){var i=t[a];a&&"results"!==a&&this.renderModeSubGroup(a,i)}if(t.results&&0<t.results.length){const o=document.createElement("div");o.className="block-group filtering",t.results.forEach(e=>o.appendChild(this.renderer.render(e))),this.containerElement.appendChild(o)}}constructor({containerElement:e}){NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),this.containerElement=e,this.start=0,this.alerts=null,this.initializeContentQuery(),this.renderer=NTSB.GetSafetyAlertRenderer(),NTSB.PaginationManager&&(this.paginateAction=NTSB.PaginateAction({contentRequestManager:this.contentRequestManager,pageSize:NTSB.SafetyAlertsPageSize,reloadAction:e=>this.reloadAlerts(e),onStart:NTSB.ShowLoadingIndicator,onComplete:NTSB.HideLoadingIndicator}),NTSB.PaginationManager.setNextClickAction(()=>this.paginateAction.next()),NTSB.PaginationManager.setHomeClickAction(()=>this.paginateAction.home()),NTSB.PaginationManager.setPreviousClickAction(()=>this.paginateAction.previous()))}setFilter(e){this.mode=e,this.buildFilters(),this.initializeContentQuery(),this.resetPagination()}filterButtonHelper(e){this.setFilter(e),this.resetPagination(),this.load()}resetPagination(){NTSB.PaginationManager.hide(),this.start=0,this.alerts.length<this.pageSize&&NTSB.PaginationManager.disableNext(),NTSB.PaginationManager.disableHome(),NTSB.PaginationManager.disablePrevious(),NTSB.PaginationManager.setPageNumberRange(this.start,this.alerts.length)}load(){this.contentRequestManager.sendRequest().then(e=>{e.d=e.d||{},e.d.results=e.d.results||[],this.alerts=e.d.results,this.populate(),e.d.__next&&(NTSB.PaginationManager.show(),NTSB.PaginationManager.enableNext()),NTSB.PaginationManager.setPageNumberRange(this.start,this.start+e.d.results.length),NTSB.HideLoadingIndicator()}).catch(NTSB.ErrorHandler)}populate(){this.containerElement.innerHTML="";const t={},n=[];this.alerts.forEach(e=>{(e.Mode?(t[e.Mode]=t[e.Mode]||{},t[e.Mode].results=t[e.Mode].results||[],e.SafetyAlertSubCategory?(t[e.Mode][e.SafetyAlertSubCategory]=t[e.Mode][e.SafetyAlertSubCategory]||[],t[e.Mode][e.SafetyAlertSubCategory]):e.Safety_x0020_Alert_x0020_Sub_x0020_Category?(t[e.Mode][e.Safety_x0020_Alert_x0020_Sub_x0020_Category]=t[e.Mode][e.Safety_x0020_Alert_x0020_Sub_x0020_Category]||[],t[e.Mode][e.Safety_x0020_Alert_x0020_Sub_x0020_Category]):t[e.Mode].results):n).push(e)});for(const o in t){var e;o&&(e=t[o],this.renderGroup(o,e))}if(0<n.length){var i=document.createElement("h2"),a=document.createTextNode("Safety Alerts with no Mode Assigned");i.appendChild(a),this.containerElement.appendChild(i);const r=document.createElement("div");r.className="block-group filtering",n.forEach(e=>r.appendChild(this.renderer.render(e))),this.containerElement.appendChild(r)}}}NTSB.SafetyAlertsManager=({containerElement:e})=>new t({containerElement:e})}(),function(){window.NTSB=window.NTSB||{},NTSB.SafetyResearchManagerUrl="/safety/safety-studies/",NTSB.SafetyResarchContentType="NTSB Safety Research Report",NTSB.SafetyResearchPageSize=12,NTSB.SafetyResearchOrderBy="Report_x0020_Date_x0020_Adopted",NTSB.SafetyResearchOrderByAscending=!1;class t{reloadResearch(e){NTSB.RequiredParameterValidator(e,"results must be valid array"),this.research=e,this.populate()}initializeContentQuery(){this.contentRequestManager=NTSB.GetContentRequestManager({serverRelativeURL:NTSB.SafetyResearchManagerUrl,contentType:NTSB.SafetyResarchContentType,pageSize:NTSB.SafetyResearchPageSize,orderBy:NTSB.SafetyResearchOrderBy,orderByAscending:NTSB.SafetyResearchOrderByAscending})}constructor({containerElement:e}){NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),this.containerElement=e,this.start=0,this.research=null,this.initializeContentQuery(),this.renderer=NTSB.GetSafetyResearchRenderer(),NTSB.PaginationManager&&(this.paginateAction=NTSB.PaginateAction({contentRequestManager:this.contentRequestManager,pageSize:NTSB.SafetyResearchPageSize,reloadAction:e=>this.reloadResearch(e),onStart:NTSB.ShowLoadingIndicator,onComplete:NTSB.HideLoadingIndicator}),NTSB.PaginationManager.setNextClickAction(()=>this.paginateAction.next()),NTSB.PaginationManager.setHomeClickAction(()=>this.paginateAction.home()),NTSB.PaginationManager.setPreviousClickAction(()=>this.paginateAction.previous()))}load(){this.contentRequestManager.sendRequest().then(e=>{this.research=e.d.results,this.populate(),e.d.__next&&NTSB.PaginationManager.enableNext(),NTSB.PaginationManager.setPageNumberRange(this.start,this.start+e.d.results.length),NTSB.HideLoadingIndicator()}).catch(NTSB.ErrorHandler)}populate(){this.containerElement.innerHTML="",this.research.forEach(e=>this.containerElement.appendChild(this.renderer.render(e)))}}NTSB.SafetyResearchManager=({containerElement:e})=>new t({containerElement:e})}(),function(){window.NTSB=window.NTSB||{};class t{createSafetyResearchManager(){this.researchManager=NTSB.SafetyResearchManager({containerElement:this.containerElement})}constructor({containerElement:e}){NTSB.RequiredParameterValidator(e,"Must provide container element"),this.containerElement=e,this.createSafetyResearchManager()}load(){this.researchManager.load()}}NTSB.SafetyResearchLandingRollupPageLoad=()=>{var e=document.getElementById("safety_research_container");e&&(NTSB.SafetyResearchLandingPageRollupManager=new t({containerElement:e}),NTSB.SafetyResearchLandingPageRollupManager.load())}}(),function(){window.NTSB=window.NTSB||{};NTSB.BuildImagesSearchQuery=({query:e,startRow:t,rowsperpage:n})=>{e=null!=e?NTSB.RemoveWhiteSpace(e):"";return"/_api/search/query?querytext='"+(e||"*")+"'&refinementfilters='FileType=jpg FileType=png FileType=gif FileType=bmp FileType=svg FileType=webp FileType=tiff"+(!t||isNaN(t)?"":"&startrow="+t)+(isNaN(n)?"":"&rowsperpage="+n)},NTSB.Search=({query:a,rowLimit:o,startRow:r,rowsperpage:s,refiners:l})=>new Promise((t,n)=>{var e=NTSB.PostOptions(),i=JSON.stringify({request:{__metadata:{type:"Microsoft.Office.Server.Search.REST.SearchRequest"},Querytext:a,RowLimit:20|o,StartRow:r,RowsPerPage:s,RefinementFilters:l?{results:l}:void 0}});e.body=i,e.headers["content-length"]=i.length,fetch("/_api/search/postquery",e).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{n(e)})}),NTSB.ImageSearch=({query:i,startRow:a,rowsperpage:o})=>new Promise((t,n)=>{var e=NTSB.BuildImagesSearchQuery({query:i,startRow:a,rowsperpage:o});fetch(e,NTSB.FetchOptions).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{n(e)})})}(),window.NTSB=window.NTSB||{},NTSB.SearchRefinerControl=null,NTSB.GetSearchRefinerControl=()=>{NTSB.SearchRefinerControl=document.querySelector(".ms-ref-ctrl"),NTSB.SearchRefinerControl&&(NTSB.SearchRefinerControl.onclick=NTSB.ShowMobileSearchRefinerOnClick,NTSB.GetMobileHideFilterButton())},NTSB.MobileHideFilterButton=null,NTSB.GetMobileHideFilterButton=()=>{var e=document.createElement("i"),t=(e.className="fas fa-times",document.createElement("span"));t.textContent="Filter",NTSB.MobileHideFilterButton=document.createElement("div"),NTSB.MobileHideFilterButton.classList.add("ref-btn"),NTSB.MobileHideFilterButton.onclick=NTSB.HideSearchRefiner,NTSB.MobileHideFilterButton.appendChild(t),NTSB.MobileHideFilterButton.appendChild(e),NTSB.SearchRefinerControl.childNodes.length?NTSB.SearchRefinerControl.insertBefore(NTSB.MobileHideFilterButton,NTSB.SearchRefinerControl.childNodes[0]):NTSB.SearchRefinerControl.appendChild(NTSB.MobileHideFilterButton)},NTSB.ShowMobileSearchRefinerOnClick=()=>{document.body.clientWidth<481&&NTSB.SearchRefinerControl&&(NTSB.SearchRefinerControl.classList.add("show-mobile-refiner"),NTSB.SearchRefinerControl.onclick=void 0)},NTSB.HideSearchRefiner=()=>{document.body.clientWidth<481&&NTSB.SearchRefinerControl&&(NTSB.SearchRefinerControl.classList.remove("show-mobile-refiner"),NTSB.SearchRefinerControl.classList.add("gray-bkg"),setTimeout(()=>{NTSB.SearchRefinerControl.onclick=NTSB.ShowMobileSearchRefinerOnClick,NTSB.SearchRefinerControl.classList.remove("gray-bkg")},500))},function(){window.NTSB=window.NTSB||{};class t{constructor({containerElement:e}){NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),this.containerElement=e,this.isVisible=-1===this.containerElement.className.indexOf("display-none")}show(){this.isVisible||(this.containerElement.classList.remove("display-none"),this.isVisible=!this.isVisible)}hide(){this.isVisible&&(this.containerElement.classList.add("display-none"),this.isVisible=!this.isVisible)}}NTSB.GetSpinner=({containerElement:e})=>new t({containerElement:e}),NTSB.LoadingIndicator=null,NTSB.HideLoadingIndicator=()=>{NTSB.LoadingIndicator&&NTSB.LoadingIndicator.hide()},NTSB.ShowLoadingIndicator=()=>{NTSB.LoadingIndicator&&NTSB.LoadingIndicator.show()}}(),window.NTSB=window.NTSB||{},NTSB.FixSearchBoxes=()=>_spBodyOnLoadFunctionNames.push("NTSBSearchFix"),function(){window.NTSB=window.NTSB||{},NTSB.testimonyServerRelativeUrl="/news/Testimony/",NTSB.TestimonyPageSize=10;class i{createTestimonyManager(e,t){this.testimonyManager=NTSB.GetAdvocacyTestimonyManager({containerElement:this.containerElement,serverRelativeUrl:NTSB.testimonyServerRelativeUrl,renderer:NTSB.GetTestimonyDetailRenderer(),pageSize:NTSB.TestimonyPageSize,contentType:"NTSB Testimony",isAdvocacy:!1,boardMemberFilter:e,advocacyTypeFilter:t})}constructor({containerElement:e,boardMember:t}){NTSB.RequiredParameterValidator(e,"Must provide container element"),this.containerElement=e,this.createTestimonyManager(t)}updateBoardMemberName(e){this.testimonyManager.setFilter(e),this.load()}load(){this.testimonyManager.load()}}NTSB.TestimonyLandingRollupPageLoad=()=>{const t=NTSB.GetQueryStringValue("BoardMemberName"),n=document.getElementById("event_container"),e=document.getElementById("content_contributor_select");n&&NTSB.QueryCurrentPage().then(e=>{NTSB.TestimonyLandingPageRollupManager=new i({containerElement:n,boardMember:t}),NTSB.TestimonyLandingPageRollupManager.load()}).catch(NTSB.ErrorHandler),e&&(t&&(e.value=t),e.onchange=()=>NTSB.TestimonyLandingPageRollupManager.updateBoardMemberName(e.value))}}(),function(){window.NTSB=window.NTSB||{},NTSB.EventsServerRelativeURL="/news/events/",NTSB.EventDetailContentType="NTSBEventDetail",NTSB.TrainingCourseStartDate="Event_x0020_StartDate",NTSB.TraininCourseFilterColumn="NTSB_x0020_Event_x0020_Type",NTSB.TraininCourseFilterValue="Training Course",NTSB.TrainingCoursePageSize=20;class t{initializeContentQuery(){this.contentRequestManager=NTSB.GetContentRequestManager({serverRelativeURL:NTSB.EventsServerRelativeURL,contentType:NTSB.EventDetailContentType,pageSize:NTSB.TrainingCoursePageSize,orderBy:NTSB.TrainingCourseStartDate,orderByAscending:!0,filters:[NTSB.GetEqualityContentFilter({siteColumn:NTSB.TraininCourseFilterColumn,filterValue:NTSB.TraininCourseFilterValue}),NTSB.GetDateGreaterThanOrEqualFilter({siteColumn:NTSB.TrainingCourseStartDate,filterValue:(new Date).toISOString()})]})}constructor({containerElement:e}){NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),this.containerElement=e,this.start=0,this.trainingEvents=null,this.initializeContentQuery(),this.renderer=NTSB.GetTrainingCenterRenderer(),NTSB.PaginationManager&&(this.paginateAction=NTSB.PaginateAction({contentRequestManager:this.contentRequestManager,pageSize:NTSB.TrainingCoursePageSize,reloadAction:e=>this.reloadEvents(e),onStart:NTSB.ShowLoadingIndicator,onComplete:NTSB.HideLoadingIndicator}),NTSB.PaginationManager.setNextClickAction(()=>this.paginateAction.next()),NTSB.PaginationManager.setHomeClickAction(()=>this.paginateAction.home()),NTSB.PaginationManager.setPreviousClickAction(()=>this.paginateAction.previous()))}reloadEvents(e){NTSB.RequiredParameterValidator(e,"results must be valid array"),this.trainingEvents=e,this.populate()}load(){this.contentRequestManager.sendRequest().then(e=>{e.d=e.d||{},e.d.results=e.d.results||[],this.trainingEvents=e.d.results,this.populate(),e.d.__next&&(NTSB.PaginationManager.show(),NTSB.PaginationManager.enableNext()),NTSB.PaginationManager.setPageNumberRange(this.start,this.start+e.d.results.length),NTSB.HideLoadingIndicator()}).catch(NTSB.ErrorHandler)}populate(){this.containerElement.innerHTML="",this.trainingEvents.forEach(e=>this.containerElement.appendChild(this.renderer.render(e)))}}NTSB.GetTrainingCenterManager=({containerElement:e})=>new t({containerElement:e})}(),function(){window.NTSB=window.NTSB||{};class t{constructor({containerElement:e}){NTSB.RequiredParameterValidator(e,"Must provide a Container Element"),this.trainingCenterManager=NTSB.GetTrainingCenterManager({containerElement:e})}load(){this.trainingCenterManager.load()}}NTSB.TrainingCenterPageLoad=()=>{var e=document.getElementById("training-courses");e&&(NTSB.TrainingCenterRollup=new t({containerElement:e}),NTSB.TrainingCenterRollup.load())}}(),window.NTSB=window.NTSB||{},NTSB.TwitterFeed=()=>{var e=document.querySelector("link[href*=NTSBPublicWeb]");const n=e?e.href:"/_layouts/15/NTSBPublicWeb/css/styles.css",i=document.getElementById("twitter");i&&i.addEventListener("DOMNodeInserted",()=>{var e,t=i.getElementsByTagName("iframe");t&&0<t.length&&((e=(t=t[0]).contentWindow.document.createElement("link")).href=n,e.rel="stylesheet",e.type="text/css",t=t.contentWindow.document.getElementsByTagName("head"))&&0<t.length&&t[0].appendChild(e)})},window.NTSB=window.NTSB||{},NTSB.contentTypeDictionary={NTSBAdvocacyDetail:"Advocacy",NTSBBase:"NTSB Web Page","NTSB Board Member":"Board Member",NTSBContactUs:"Contact Us Page",NTSBEventDetail:"Event",NTSBHomeContent:"Home Page",NTSBInvestigationDetail:"Investigation",NTSBInvestigationReportDetail:"Investigation Report","NTSB Investigation Summary Page":"Investigation Home Page",NTSBNewsDetail:"News","NTSB Testimony":"Testimony","NTSB Recommendation Document":"Recommendation","NTSB Speech Document":"Speech Transcript","NTSB Accident Report Document":"Accident Report","NTSB Safety Study Document":"Safety Study","NTSB Event Add-On":"Supplemental Documents for Events","NTSB Landing Page":"Home Page"},NTSB.DayOfTheWeekData=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],NTSB.DayOfTheWeekAbbreviation=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],NTSB.GetDayOfTheWeek=e=>NTSB.DayOfTheWeekData[e],NTSB.GetDayOfTheWeekAbbrev=e=>NTSB.DayOfTheWeekAbbreviation[e],NTSB.FetchOptions={method:"GET",headers:{Accept:"application/json; odata=verbose"},credentials:"same-origin"},NTSB.PostOptions=()=>{var e=document.getElementById("__REQUESTDIGEST");return{method:"POST",headers:{Accept:"application/json; odata=verbose","content-type":"application/json;odata=verbose","X-RequestDigest":e?e.value:void 0},credentials:"same-origin"}},NTSB.Icons={highway:"/_layouts/15/NTSBPublicWeb/img/_icons-highway-blue.png",aviation:"/_layouts/15/NTSBPublicWeb/img/_icons-aviation-blue.png",pipeline:"/_layouts/15/NTSBPublicWeb/img/_icons-pipeline-blue.png",railroad:"/_layouts/15/NTSBPublicWeb/img/_icons-railroad-blue.png",marine:"/_layouts/15/NTSBPublicWeb/img/_icons-marine-blue.png","hazardous materials":"/_layouts/15/NTSBPublicWeb/img/_icons-hazmat_blue.png"},NTSB.OldIcons={"Office of Highway Safety":"/_layouts/15/NTSBPublicWeb/img/_icons-highway-blue.png","Office of Aviation Safety":"/_layouts/15/NTSBPublicWeb/img/_icons-aviation-blue.png","Office of Pipeline":"/_layouts/15/NTSBPublicWeb/img/_icons-pipeline-blue.png","Office of Railroad":"/_layouts/15/NTSBPublicWeb/img/_icons-railroad-blue.png","Office of Marine Safety":"/_layouts/15/NTSBPublicWeb/img/_icons-marine-blue.png","Office of Railroad, Pipeline & Hazardous Materials Investigations":"/_layouts/15/NTSBPublicWeb/img/_icons-hazmat_blue.png"},NTSB.Offices={"Office of Highway Safety":"HIGHWAY","Office of Aviation Safety":"AVIATION","Office of Pipeline":"PIPELINE","Office of Railroad":"RAILROAD","Office of Marine Safety":"MARINE","Office of Railroad, Pipeline & Hazardous Materials Investigations":"HAZMAT"},NTSB.ErrorHandler=e=>{var t=document.getElementById("errorrow");t&&(NTSB.Show(t),t=document.getElementById("errormessage"))&&e&&(t.textContent=e.toString())},NTSB.RemoveWhiteSpace=e=>e.replace(/\s+/g,""),NTSB.RequiredParameterValidator=(e,t)=>{if(!e)throw t},NTSB.ArrayIsNullOrEmptyParameterValidator=(e,t)=>{if(!e||e.length<1)throw t},NTSB.IsString=e=>"[object String]"==Object.prototype.toString.call(e),NTSB.QueryCurrentPage=()=>new Promise((t,n)=>{var e=_spPageContextInfo.webServerRelativeUrl+"/_api/web/Lists/Pages/items("+_spPageContextInfo.pageItemId+")";fetch(e,NTSB.FetchOptions).then(e=>e.json()).then(e=>t(e)).catch(e=>{n(e)})}),NTSB.RemoveLeadingAndTrailingForwardSlashes=e=>{var t=(e="/"===e.charAt(0)?e.substring(1):e).length-1;return e="/"===e.charAt(t)?e.substring(0,t):e},NTSB.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],NTSB.MonthsAbbreviations=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NTSB.GetMonth=e=>NTSB.Months[e],NTSB.GetMonthAbbreviation=e=>NTSB.MonthsAbbreviations[e],NTSB.Hide=e=>e.classList.add("display-none"),NTSB.Show=e=>e.classList.remove("display-none"),NTSB.UpdateQueryStringParameter=(e,t,n)=>{var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+a+t+"="+n},NTSB.URLMALWareRegex=/%3E|%3C/g,NTSB.Sanitize=e=>DOMPurify.sanitize(e.replace(NTSB.URLMALWareRegex,""),{KEEP_CONTENT:!1}),NTSB.GetQueryStringValue=e=>{return new URLSearchParams(NTSB.Sanitize(location.search)).get(e)},NTSB.RemoveURLParameter=(e,t)=>{var n=e.split("?");if(2<=n.length){for(var i=encodeURIComponent(t)+"=",a=n[1].split(/[&;]/g),o=a.length;0<o--;)-1!==a[o].lastIndexOf(i,0)&&a.splice(o,1);return n[0]+(0<a.length?"?"+a.join("&"):"")}return e},NTSB.MDYShortFormat=e=>e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(),function(){window.NTSB=window.NTSB||{};class t{constructor({dropdownElement:e}){NTSB.RequiredParameterValidator(e,"Must provide select element"),this.dropdownElement=e,this.dropdownElement.onchange=()=>{NTSB.YearDropdown.dropdownElement.value?window.location.href=NTSB.UpdateQueryStringParameter(window.location.href,"year",NTSB.YearDropdown.dropdownElement.value):window.location.href=NTSB.RemoveURLParameter(window.location.href,"year")};e=NTSB.GetQueryStringValue("year");e&&(this.dropdownElement.value=e)}}NTSB.CreateYearDropdown=({dropdownElement:e})=>{NTSB.YearDropdown=new t({dropdownElement:e})}}(),window.NTSB=window.NTSB||{},NTSB.QuitModal=()=>{NTSB.YouTubeModal&&NTSB.YouTubeModal.close(SP.UI.DialogResult.OK)},NTSB.YouTubeVideoInsert=()=>{if(NTSB.YouTubeIDInput){var e=NTSB.YouTubeIDInput.value,t=document.createElement("div"),e=(t.className="ms-rte-embedholder ms-rtegenerate-skip","https://www.youtube.com/embed/"+e+"?controls=0"),n=document.createElement("iframe"),e=(n.src=e,n.title="YouTube Player",n.className="youtube",t.appendChild(n),RTE.SnapshotManager.takeSnapshot(),RTE.Cursor.get_range());if(!e.get_isEditable())return void NTSB.QuitModal();if(!e.parentElement())return void NTSB.QuitModal();e.insertBefore(t),RTE.SnapshotManager.takeSnapshot()}NTSB.QuitModal()},NTSB.YouTubeRTE=()=>{var e=document.createElement("section"),t=document.createElement("div"),n=(t.className="form-group",document.createElement("label")),n=(n.htmlFor="youtubeurl",n.textContent="YouTube Video ID",t.appendChild(n),document.createElement("input")),n=(n.type="text",n.className="form-control",n.id="youtubeurl",n["aria-describedby"]="videoHelp",t.appendChild(n),NTSB.YouTubeIDInput=n,document.createElement("small")),n=(n.id="videoHelp",n.className="form-text text-muted",n.textContent="YouTube Video ID",t.appendChild(n),e.appendChild(t),document.createElement("button")),t=(n.onclick=NTSB.YouTubeVideoInsert,n.className="btn btn-primary",n.textContent="Insert",e.appendChild(n),{title:"Insert YouTube Video",html:e,showClose:!0});NTSB.YouTubeModal=SP.UI.ModalDialog.showModalDialog(t)};